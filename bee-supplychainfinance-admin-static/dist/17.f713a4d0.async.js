(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"AZ/c":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return O});a("g9YV");var n,i,s=a("wCAj"),r=(a("sPJy"),a("bE4q")),c=(a("P2fV"),a("NJEC")),o=(a("5NDa"),a("5rEg")),m=(a("miYZ"),a("tsqr")),d=a("p0pE"),l=a.n(d),u=a("2Taf"),f=a.n(u),h=a("vZ4D"),v=a.n(h),E=a("l4Ni"),I=a.n(E),p=a("ujKo"),g=a.n(p),N=a("MhPg"),y=a.n(N),k=(a("iQDF"),a("+eQT")),w=(a("OaEy"),a("2fM7")),D=(a("y8nQ"),a("Vl3Y")),b=a("q1tI"),x=a.n(b),T=a("dOjP"),C=a.n(T),S=(a("wd/R"),a("M21C")),O=(D["a"].Item,w["a"].Option,k["a"].RangePicker,n=D["a"].create(),n(i=function(e){function t(e){var a;return f()(this,t),a=I()(this,g()(t).call(this,e)),a.state={currentPage:1,pageSize:10,totalPage:0,totalRecords:0,params:{},list:[],editDatas:{}},a.defalutTeam={teamName:"",notes:"",managerName:"",memberName:[],isEdit:!0},a.newIndex=1,a}return y()(t,e),v()(t,[{key:"componentDidMount",value:function(){var e=this;Object(S["g"])().then(function(t){e.setState({list:t.data})})}},{key:"toHandle",value:function(e){e=""+e;var t=this.state.list;t=t.map(function(t){return t.teamId+""===e?l()({},t,{isEdit:!0}):t}),this.setState({list:t})}},{key:"editData",value:function(e,t,a){t=""+t;var n=this.state.editDatas;n["".concat(e).concat(t)]=a,this.setState({editDatas:n})}},{key:"save",value:function(e,t){var a=this;e=""+e;var n={};n.notes=this.state.editDatas["notes".concat(e)]||t.notes,n.teamName=this.state.editDatas["teamName".concat(e)]||t.teamName;var i=this.state.list;-1===e.indexOf("n")?(n.teamId=e,Object(S["d"])(n).then(function(t){0===t.code?(m["a"].success("\u7f16\u8f91\u6210\u529f!"),i=i.map(function(t){return t.teamId+""===e?l()({},t,{notes:n.notes,teamName:n.teamName,isEdit:!1}):t}),a.setState({list:i})):m["a"].error(t.msg)})):Object(S["a"])(n).then(function(t){0===t.code?(m["a"].success("\u6dfb\u52a0\u6210\u529f!"),i=i.map(function(a){return a.teamId+""===e?l()({},a,{notes:n.notes,teamName:n.teamName,teamId:t.data,isEdit:!1}):a}),a.setState({list:i})):m["a"].error(t.msg)})}},{key:"addTeam",value:function(){var e=this.state.list;e.push(l()({},this.defalutTeam,{teamId:"n".concat(this.newIndex)})),this.newIndex++,this.setState({list:e})}},{key:"deleteTeam",value:function(e){var t=this,a={};a.teamId=e;var n=this.state.list;Object(S["c"])(a).then(function(a){0===a.code?(m["a"].success("\u5220\u9664\u6210\u529f!"),n=n.filter(function(t){return t.teamId+""!==e+""}),t.setState({list:n})):m["a"].error(a.msg)})}},{key:"cancel",value:function(e){e=""+e;var t=this.state.list;t=-1===e.indexOf("n")?t.map(function(t){return t.teamId===Number(e)?l()({},t,{isEdit:!1}):t}):t.filter(function(t){return t.teamId!==e}),this.setState({list:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=(t.counts,t.editDatas),i=(this.props.form.getFieldDecorator,this.state),m=(i.currentPage,i.pageSize,i.totalPage,i.totalRecords,[{title:"\u90e8\u95e8\u540d\u79f0",dataIndex:"teamName",key:"entrustBuyId",width:200,render:function(t,a,i){return a.isEdit?void 0!==n["teamName".concat(a.teamId)]?x.a.createElement(o["a"],{value:n["teamName".concat(a.teamId)],onChange:function(t){return e.editData("teamName",a.teamId,t.target.value)}}):void e.editData("teamName",a.teamId,t):x.a.createElement("span",null,t)}},{title:"\u90e8\u95e8\u7ecf\u7406",dataIndex:"managerName",key:"name",width:150},{title:"\u6210\u5458",dataIndex:"memberName",key:"mode",width:300,render:function(e,t){return x.a.createElement("span",null,e&&e.length>0?e.join(","):"\u6682\u65e0")}},{title:"\u5907\u6ce8",dataIndex:"notes",key:"status",width:350,render:function(t,a,i){return a.isEdit?void 0!==n["notes".concat(a.teamId)]?x.a.createElement(o["a"],{value:n["notes".concat(a.teamId)],onChange:function(t){return e.editData("notes",a.teamId,t.target.value)}}):void e.editData("notes",a.teamId,t):x.a.createElement("span",null,t)}},{title:"\u64cd\u4f5c",key:"action",render:function(t,a,n){return a.isEdit?x.a.createElement("div",null,x.a.createElement("a",{onClick:function(){return e.save(a.teamId,a)}},"\u4fdd\u5b58"),x.a.createElement(c["a"],{title:"\u5c06\u653e\u5f03\u6240\u6709\u7f16\u8f91\uff1f",onConfirm:e.cancel.bind(e,a.teamId),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},x.a.createElement("span",{style:{color:"#1890ff",marginLeft:20,cursor:"pointer"}},"\u53d6\u6d88"))):x.a.createElement("div",null,x.a.createElement("a",{onClick:function(){return e.toHandle(a.teamId)}},"\u7f16\u8f91"),x.a.createElement(c["a"],{title:"\u786e\u5b9a\u5220\u9664\uff1f",onConfirm:e.deleteTeam.bind(e,a.teamId),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},x.a.createElement("span",{style:{color:"#1890ff",marginLeft:20,cursor:"pointer"}},"\u5220\u9664")))}}]);return x.a.createElement("div",{className:C.a.container},x.a.createElement("div",{className:C.a.crumb},x.a.createElement(r["a"],null,x.a.createElement(r["a"].Item,null,"\u56e2\u961f\u7ba1\u7406"))),x.a.createElement("div",{className:C.a.body},x.a.createElement("span",{className:C.a.title},"\u56e2\u961f\u7ba1\u7406"),x.a.createElement(s["a"],{style:{marginTop:"30px"},columns:m,dataSource:a,rowKey:function(e,t){return t},pagination:!1}),x.a.createElement("div",{className:C.a.add,onClick:this.addTeam.bind(this)},"\u6dfb\u52a0")))}}]),t}(b["Component"]))||i)}}]);