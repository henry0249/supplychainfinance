(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{LtHJ:function(e,t,a){e.exports={container:"container___2YZQS",empty:"empty___2odhM",crumb:"crumb___JrBtz",content:"content___2cXv7",baseInfo:"baseInfo___3NfJq",TreeNode:"TreeNode___1-LzZ",bottom:"bottom___2vG-3",buttons:"buttons___1bkAP",inputFlex:"inputFlex___3EQWr"}},grJh:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return W});a("/zsF");var n,l,c,r=a("PArb"),o=(a("Telt"),a("Tckk")),s=(a("14J3"),a("BMrR")),i=(a("P2fV"),a("NJEC")),u=(a("+L6B"),a("2/Rp")),m=(a("Pwec"),a("CtXQ")),d=(a("jCWc"),a("kPKH")),p=(a("sPJy"),a("bE4q")),E=(a("miYZ"),a("tsqr")),y=a("2Taf"),f=a.n(y),h=a("vZ4D"),g=a.n(h),b=a("l4Ni"),k=a.n(b),v=a("ujKo"),_=a.n(v),N=a("MhPg"),T=a.n(N),I=(a("ozfa"),a("MJZm")),x=(a("y8nQ"),a("Vl3Y")),S=a("q1tI"),K=a.n(S),P=a("3a4m"),w=a.n(P),J=a("bKel"),j=a.n(J),C=a("LtHJ"),L=a.n(C),q=a("wY1l"),O=a.n(q),B=a("V9U9"),z=x["a"].Item,M=I["a"].TreeNode,W=(n=x["a"].create(),j()(l=n((c=function(e){function t(e){var a;return f()(this,t),a=k()(this,_()(t).call(this,e)),a.onExpand=function(e){console.log("onExpand",e),a.setState({expandedKeys:e,autoExpandParent:!1})},a.onCheck=function(e,t){console.log(e),console.log(t);var n=[];e.map(function(e){var t=e.split("-");n.push({roleId:t[0],roleType:t[1],level:t[2],pid:t[3],subSys:t[4],roleName:t[5],title:t[6]})}),console.log(n),a.setState({newParams:n}),a.setState({checkedKeys:e})},a.onSelect=function(e,t){console.log("onSelect",t),a.setState({selectedKeys:e})},a.renderTreeNodes=function(e){return e.map(function(e){return e.children?K.a.createElement(M,{title:e.title,key:e.key,dataRef:e},a.renderTreeNodes(e.children)):K.a.createElement(M,e)})},a.bannedUser=function(e){if(e){var t=e.status;t=1===t?0:1;a.id,e.enterpriseId;var n="userId=".concat(a.id,"&status=").concat(t);Object(B["c"])(n).then(function(e){e&&0===e.code?(E["a"].success(e.message),w.a.goBack()):E["a"].error(e.message)})}},a.submit=function(){var e=a.state,t=(e.headImg,e.newParams,{});t["id"]=a.id,t["enterpriseId"]=a.orgId,console.log(t),Object(B["b"])(t).then(function(e){console.log(e),e&&0===e.code?(E["a"].success("\u63d0\u4ea4\u6210\u529f"),w.a.goBack()):E["a"].warning("\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})},a.state={autoExpandParent:!0,selectedKeys:[],checkedKeys:[],checkKeys:[],oldCheckKeys:[],unCheckKeys:[],addList:[],deleteList:[],checkedTree:[],detail:{},tree:null,companyList:[],renderList:[],newParams:[]},a.id=e.location.query.id||null,a.enterType=e.location.query.enterType||null,a.orgId=e.location.query.orgId||null,a}return T()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e=this;Object(B["i"])(this.id).then(function(t){console.log(t),t&&0===t.code&&e.setState({detail:t.data},function(){e.state.detail.regionId&&Object(B["j"])(e.state.detail.regionId).then(function(t){t&&0===t.code&&Object.keys(t.data).length>0&&e.setState({region:Z(t.data)})})})}),Object(B["e"])(this.orgId).then(function(t){console.log(t),t&&0===t.code&&t.data.length>0&&e.setState({tree:Q(t.data)},function(){"0"===e.enterType&&Object(B["k"])(e.id).then(function(t){console.log(t),t&&0===t.code&&t.data.length>0&&e.setState({checkedKeys:Y(t.data)},function(){console.log(e.state.checkedKeys)})})})})}},{key:"render",value:function(){var e=this.state,t=e.detail,a=e.region,n=e.tree;return console.log(n),K.a.createElement("div",{className:L.a.container},K.a.createElement("div",{className:L.a.crumb},K.a.createElement(s["a"],{gutter:24},K.a.createElement(d["a"],{span:19},K.a.createElement(p["a"],null,K.a.createElement(p["a"].Item,null,K.a.createElement(O.a,{to:"/user"},"\u7528\u6237\u7ba1\u7406")),K.a.createElement(p["a"].Item,null,"\u7f16\u8f91\u4e2d\u53f0\u7528\u6237")),K.a.createElement("h2",{style:{marginTop:10,fontWeight:"bold"}},"\u8d26\u6237\u8be6\u60c5")),K.a.createElement(d["a"],{span:5},K.a.createElement("div",null,"\u6700\u540e\u4fee\u6539: ",t&&t.updateTime),K.a.createElement("div",{style:{margin:"10px 0"}},t&&t.updateName?"\u4fee\u6539\u4eba\uff1a"+t.updateName:""),K.a.createElement("div",null,K.a.createElement(u["a"],{type:"primary",onClick:function(){w.a.goBack()}},K.a.createElement(m["a"],{type:"rollback"}),"\u8fd4\u56de"),"0"===this.enterType&&K.a.createElement(i["a"],{placement:"top",title:t&&0===t.status?K.a.createElement("div",null,K.a.createElement("p",null,"\u542f\u7528\u672c\u8d26\u53f7"),K.a.createElement("p",null,"\u786e\u5b9a\u542f\u7528\u8d26\u6237\u201c\u8d26\u6237\u540d\u79f0".concat(t&&t.nickname,"\u201d\u5417\uff1f"))):K.a.createElement("div",null,K.a.createElement("p",null,"\u7981\u7528\u672c\u8d26\u53f7"),K.a.createElement("p",null,"\u786e\u5b9a\u7981\u7528\u8d26\u6237\u201c\u8d26\u6237\u540d\u79f0".concat(t&&t.nickname,"\u201d\u5417\uff1f"))),onConfirm:this.bannedUser.bind(this,t),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},K.a.createElement(u["a"],{type:"primary",style:{marginLeft:30},icon:"stop"},t&&0===t.status?"\u542f\u7528\u672c\u8d26\u6237":"\u7981\u7528\u672c\u8d26\u6237")))))),K.a.createElement("div",{className:L.a.content},K.a.createElement("div",{className:L.a.baseInfo},K.a.createElement("h4",{style:{fontWeight:700}},"\u57fa\u672c\u4fe1\u606f"),K.a.createElement(s["a"],{gutter:48,style:{marginTop:20}},K.a.createElement(d["a"],null,"\u5934\u50cf\uff1a",K.a.createElement(o["a"],{src:t.userPhoto||"",size:100}))),K.a.createElement(s["a"],{gutter:48,style:{padding:"30px 30px 30px 0"}},K.a.createElement(d["a"],{span:8},K.a.createElement("span",null,"\u6ce8\u518c\u624b\u673a\u53f7\uff1a"),K.a.createElement("span",null,t.userName)),K.a.createElement(d["a"],{span:8},K.a.createElement("span",null,"\u6210\u5458\u59d3\u540d\uff1a"),K.a.createElement("span",null,t.fullName)),K.a.createElement(d["a"],{span:8},K.a.createElement("span",null,"\u90ae\u7bb1\uff1a"),K.a.createElement("span",null,t.email||""))),K.a.createElement(s["a"],{gutter:48,style:{padding:"30px 30px 30px 0"}},K.a.createElement(d["a"],{span:8},K.a.createElement("span",null,"\u56fa\u8bdd\uff1a"),K.a.createElement("span",null,t&&t.fixtel)),K.a.createElement(d["a"],{span:8},K.a.createElement("span",null,"\u6240\u5728\u5730\uff1a"),K.a.createElement("span",null,a&&a)),K.a.createElement(d["a"],{span:8},K.a.createElement("span",null,"\u8be6\u7ec6\u5730\u5740\uff1a"),K.a.createElement("span",null,t&&t.address))),K.a.createElement(r["a"],null)),K.a.createElement("div",{className:L.a.baseInfo},K.a.createElement("h4",{style:{fontWeight:700}},"\u516c\u53f8\u4fe1\u606f"),K.a.createElement(r["a"],null)),K.a.createElement("div",{className:L.a.TreeNode},K.a.createElement(x["a"],{gutter:48},K.a.createElement(z,{label:""})),K.a.createElement(r["a"],null)),K.a.createElement("div",{className:L.a.TreeNode})))}}]),t}(S["Component"]),l=c))||l)||l),Z=function(e){var t="";return e?(t+=e.province.district,t+=e.city.district,t+=e.county.district,t):t},Q=function e(t){return t.map(function(t){t.key=t.id+"-"+t.roleType+"-"+t.level+"-"+t.pid+"-"+t.subSys+"-"+t.roleName+"-"+t.title,t.children&&e(t.children)}),t},Y=function(e){var t=[];return e.map(function(e){e.key=e.id+"-"+e.roleType+"-"+e.level+"-"+e.pid+"-"+e.subSys+"-"+e.roleName+"-"+e.title,t.push(e.key),e.children&&Q(e.children)}),t}}}]);