(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[59],{"7/+d":function(e,t,a){"use strict";var n=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(a("q1tI"));a("IzEo");var o=l(a("bx4M"));a("g9YV");var d=l(a("wCAj"));a("14J3");var c=l(a("BMrR"));a("5NDa");var u=l(a("5rEg"));a("/zsF");var i=l(a("PArb"));a("jCWc");var f=l(a("kPKH"));a("OaEy");var s=l(a("2fM7"));a("+L6B");var m=l(a("2/Rp"));a("Pwec");var p=l(a("CtXQ"));a("2qtc");var y=l(a("kLXV"));a("miYZ");var h=l(a("tsqr")),g=l(a("2Taf")),v=l(a("vZ4D")),E=l(a("l4Ni")),C=l(a("ujKo")),k=l(a("rlhR")),w=l(a("MhPg"));a("y8nQ");var x,D,S,b=l(a("Vl3Y")),N=l(a("3a4m")),P=l(a("sVQH")),z=a("DuBG"),B=b["default"].Item,F=(x=b["default"].create(),x((S=function(e){function t(){var e,a;(0,g["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,E["default"])(this,(e=(0,C["default"])(t)).call.apply(e,[this].concat(l))),a.state={type:0,years:[],data:[],page:{currentPage:1,pageSize:10,totalPage:0,totalRecords:0}},a.getData=function(e,t){var n=a.props.form,l=n.validateFields,r=n.resetFields;l(function(n,l){if(!n){var o={current:e};0===t?(o["years"]=l.years,o["inland"]=l.inland,(0,z.getListByCondition)(o).then(function(e){0===e.code?(r(["companyName"]),a.setState({data:e.data,page:e.page,type:t})):h["default"].error("\u83b7\u53d6\u4e16\u754c500\u5f3a\u4f01\u4e1a\u5217\u8868\u5931\u8d25\uff1a"+e.msg)})):1===t&&(o["companyName"]=l.companyName,(0,z.getDataByName)(o).then(function(e){0===e.code?(r(["years","inland"]),a.setState({data:e.data,page:e.page,type:t})):h["default"].error("\u83b7\u53d6\u4e16\u754c500\u5f3a\u4f01\u4e1a\u5217\u8868\u5931\u8d25\uff1a"+e.msg)}))}})},a.currentChange=function(e){var t=a.state.type;a.getData(e,t)},a.handleSearch=function(e){a.getData(1,e)},a.handleDelete=function(e){var t=a.state.type,n=(0,k["default"])(a);y["default"].confirm({title:"\u5220\u9664\u4e16\u754c500\u5f3a\u4f01\u4e1a",content:"\u5220\u9664\u4f01\u4e1a\u201c".concat(e.companyCname,"\u201d\u5417\uff1f"),onOk:function(){(0,z.deleteData)({id:e.id}).then(function(e){0===e.code?(h["default"].success("\u5220\u9664\u4e16\u754c500\u5f3a\u4f01\u4e1a\u6210\u529f\uff01"),n.getData(1,t)):h["default"].error("\u5220\u9664\u4e16\u754c500\u5f3a\u4f01\u4e1a\u5931\u8d25\uff1a"+e.msg)})},onCancel:function(){}})},a}return(0,w["default"])(t,e),(0,v["default"])(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.type;(0,z.getYears)().then(function(t){0===t.code?e.setState({years:t.data.years}):h["default"].error("\u83b7\u53d6\u6240\u6709\u5e74\u4efd\u5931\u8d25\uff1a"+t.msg)}),this.getData(1,t)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.years,l=a.data,y=a.page,h=[{title:"\u5e74\u4efd",dataIndex:"years",key:"years",render:function(e,t){return e+"\u5e74"}},{title:"\u6392\u540d",dataIndex:"rank",key:"rank"},{title:"\u662f\u5426\u5185\u5730\uff08\u4e0d\u542b\u6e2f\u6fb3\u53f0\uff09",dataIndex:"inland",key:"inland",render:function(e,t){return 1===e?r["default"].createElement(p["default"],{style:{color:"#52C41A",fontSize:17},type:"check-circle",theme:"filled"}):r["default"].createElement(p["default"],{style:{color:"#F5222D",fontSize:17},type:"close-circle",theme:"filled"})}},{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"companyCname",key:"companyCname"},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"modifyTime",key:"modifyTime"},{title:"\u64cd\u4f5c",key:"action",render:function(t,a,n){return r["default"].createElement("div",null,r["default"].createElement("span",{onClick:function(){return N["default"].push("/ods/baseTopCompany/edit?id=".concat(a.id))},style:{fontSize:14,color:"#1890FF",cursor:"pointer",marginRight:12}},"\u7f16\u8f91"),r["default"].createElement("span",{onClick:function(){return e.handleDelete(a)},style:{fontSize:14,color:"#1890FF",cursor:"pointer",marginRight:12}},"\u5220\u9664"))}}];return r["default"].createElement("div",{className:P["default"].container},r["default"].createElement(o["default"],{bordered:!1,title:"\u6570\u636e\u4ed3\u5e93\uff1a\u4e16\u754c500\u5f3a\u4f01\u4e1a\u540d\u5355",extra:r["default"].createElement(m["default"],{onClick:function(){return N["default"].push("/ods/baseTopCompany/edit")},type:"primary",icon:"plus"},"\u6dfb\u52a0\u65b0\u4f01\u4e1a")},r["default"].createElement(b["default"],{layout:"inline"},r["default"].createElement(c["default"],{gutter:8},r["default"].createElement(f["default"],{className:P["default"].colBox,xs:24,sm:24,md:24,lg:24,xl:13},r["default"].createElement(B,{label:"\u5e74\u4efd"},t("years")(r["default"].createElement(s["default"],{allowClear:!1,style:{width:150},placeholder:"\u8bf7\u9009\u62e9"},0!==n.length&&n.map(function(e,t){return r["default"].createElement(Option,{value:e},e)})))),r["default"].createElement(B,{label:"\u56fd\u5185/\u56fd\u5916"},t("inland")(r["default"].createElement(s["default"],{allowClear:!1,style:{width:150},placeholder:"\u8bf7\u9009\u62e9"},r["default"].createElement(Option,{value:0},"\u5168\u90e8"),r["default"].createElement(Option,{value:1},"\u4ec5\u5185\u5730\uff08\u4e0d\u542b\u6e2f\u6fb3\u53f0\uff09"),r["default"].createElement(Option,{value:2},"\u4ec5\u56fd\u5916")))),r["default"].createElement(m["default"],{onClick:this.handleSearch.bind(this,0),type:"primary"},"\u7b5b\u9009")),r["default"].createElement(f["default"],{xs:0,sm:0,md:0,lg:0,xl:1},r["default"].createElement(i["default"],{type:"vertical",style:{height:40}})),r["default"].createElement(f["default"],{className:P["default"].colBox,xs:24,sm:24,md:24,lg:24,xl:10},r["default"].createElement(B,null,t("companyName")(r["default"].createElement(u["default"],{allowClear:!1,style:{width:300},placeholder:"\u8bf7\u8f93\u5165\u4f01\u4e1a\u540d\u79f0"}))),r["default"].createElement(m["default"],{onClick:this.handleSearch.bind(this,1),type:"primary",icon:"search"}," ")))),r["default"].createElement(d["default"],{rowKey:"id",style:{marginTop:24},dataSource:l,columns:h,pagination:{showQuickJumper:!0,current:y.currentPage,pageSize:y.pageSize,total:y.totalRecords,onChange:this.currentChange,showTotal:function(e,t){return"\u5171 ".concat(y.totalRecords," \u6761\u8bb0\u5f55 \u7b2c ").concat(y.currentPage," / ").concat(y.totalPage," \u9875")}}})))}}]),t}(r.Component),D=S))||D);t["default"]=F},sVQH:function(e,t,a){e.exports={container:"container___1Lqtq",colBox:"colBox___dH_Il"}}}]);