(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{KWcR:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("g9YV");var r=l(a("wCAj"));a("+L6B");var u=l(a("2/Rp"));a("5NDa");var d=l(a("5rEg"));a("/zsF");var c=l(a("PArb"));a("sPJy");var o=l(a("bE4q"));a("Awhp");var i=l(a("KrTs")),s=l(a("p0pE")),p=l(a("2Taf")),f=l(a("vZ4D")),m=l(a("l4Ni")),h=l(a("ujKo")),v=l(a("MhPg"));a("iQDF");var y=l(a("+eQT"));a("OaEy");var g=l(a("2fM7"));a("y8nQ");var E,b,w,S,k=l(a("Vl3Y")),C=n(a("q1tI")),_=l(a("Zg4p")),N=l(a("3a4m")),P=a("Hg0r"),z=l(a("wd/R")),j=k["default"].Item,A=g["default"].Option,M=y["default"].RangePicker,I=(E=k["default"].create(),b=(0,P.connect)(function(e){e.global;var t=e.projectApproval,a=e.loading,l=e.incoming;return{incoming:l,projectApproval:t,loading:a.effects}}),E(w=b((S=function(e){function t(e){var a;return(0,p["default"])(this,t),a=(0,m["default"])(this,(0,h["default"])(t).call(this,e)),a.onChange=function(e){var t=a.props.dispatch,l=a.state,n=l.pageSize,r=l.params;t({type:"projectApproval/fetch",payload:{url:"currentPage=".concat(e,"&pageSize=").concat(n),params:r},success:function(e){a.setState((0,s["default"])({},e))}})},a.onShowSizeChange=function(e,t){var l=a.props.dispatch,n=a.state.params;l({type:"projectApproval/fetch",payload:{url:"currentPage=1&pageSize=".concat(t),params:n},success:function(e){a.setState((0,s["default"])({},e))}})},a.handleSearch=function(){var e=a.props.form.validateFields,t=a.props.dispatch,l=a.state.pageSize;e(function(e,n){if(!e){var r=(0,s["default"])({},n);delete r["rangePicker"],n.applyCompanyName&&(r["applyCompanyName"]=n.applyCompanyName),n.status&&(r["status"]=n.status),n.rangePicker&&(r["startTime"]=(0,z["default"])(n["rangePicker"][0]).format("YYYY-MM-DD"),r["endTime"]=(0,z["default"])(n["rangePicker"][1]).format("YYYY-MM-DD")),t({type:"projectApproval/fetch",payload:{url:"currentPage=1&pageSize=".concat(l),params:r},success:function(e){a.setState((0,s["default"])({},e,{params:r}))}})}})},a.handleReset=function(){var e=a.props.form.resetFields,t=a.props.dispatch,l=a.state.pageSize;t({type:"projectApproval/fetch",payload:{url:"currentPage=1&pageSize=".concat(l),params:{}},success:function(t){e(),a.setState((0,s["default"])({},t,{params:{}}))}})},a.state={currentPage:1,pageSize:10,totalPage:0,totalRecords:0,params:{}},a}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"projectApproval/fetch",payload:{url:"currentPage=1&pageSize=10",params:{}},success:function(t){e.setState((0,s["default"])({},t))}}),t({type:"projectApproval/getCount"})}},{key:"toHandle",value:function(e,t){var a=this.props.dispatch;a({type:"projectApproval/pickBusinessMode",payload:t,callback:function(){N["default"].push("/approval/projectapproval/handle?id=".concat(e))}})}},{key:"render",value:function(){var e=this,t=this.props.projectApproval,a=t.list,l=t.counts,n=this.props.form.getFieldDecorator,s=this.state,p=s.currentPage,f=s.pageSize,m=s.totalPage,h=s.totalRecords,v=[{title:"ID",dataIndex:"entrustBuyId",key:"entrustBuyId",width:"14%"},{title:"\u59d4\u6258\u4f01\u4e1a",dataIndex:"applyCompanyName",key:"applyCompanyName",render:function(e,t){return 1===t.belongNow?C["default"].createElement("div",null,C["default"].createElement(i["default"],{status:"error",offset:[4,-2]},e)):e},width:"20%"},{title:"\u521b\u5efa\u90e8\u95e8",dataIndex:"teamName",key:"teamName",width:"13%"},{title:"\u7533\u8bf7\u7c7b\u578b",dataIndex:"businessMode",key:"businessMode",render:function(e,t){return 0===e?"\u59d4\u6258\u91c7\u8d2d":1===e?"\u59d4\u6258\u9500\u552e":2===e?"\u91d1\u878d\u4ed3\u50a8":4===e?"\u5927\u4f01\u4e1a\u59d4\u6258\u91c7\u8d2d":void 0},sorter:function(e,t){return e.businessMode-t.businessMode},width:"13%"},{title:"\u72b6\u6001",dataIndex:"applyStatus",key:"applyStatus",render:function(e,t){return 0===e?"\u65b0\u589e":1===e?"\u9000\u56de":2===e?"\u521d\u5ba1\u4e2d":3===e?"\u98ce\u63a7\u5ba1\u6838\u4e2d":4===e?"\u7ec8\u5ba1\u4e2d":5===e?"\u51b3\u7b56\u590d\u6838\u4e2d":6===e?"\u5b8c\u6210":void 0},width:"13%"},{title:"\u7533\u8bf7\u65e5\u671f",dataIndex:"createTime",key:"createTime",sorter:function(e,t){return(0,z["default"])(e.createTime)-(0,z["default"])(t.createTime)},width:"14%"},{title:"\u64cd\u4f5c",key:"action",render:function(t,a,l){return C["default"].createElement("a",{onClick:function(){return e.toHandle(a.id,a.businessMode)}},"\u8fdb\u5165")},width:"13%"}];return C["default"].createElement("div",{className:_["default"].container},C["default"].createElement("div",{className:_["default"].crumb},C["default"].createElement(o["default"],null,C["default"].createElement(o["default"].Item,null,"\u7acb\u9879\u5ba1\u6279\u7ba1\u7406"))),C["default"].createElement("div",{className:_["default"].header},C["default"].createElement("div",{className:_["default"].div},C["default"].createElement("span",null,"\u5f85\u8865\u5145\u8ba2\u5355"),C["default"].createElement("span",null,l.orderToComplete?l.orderToComplete:0)),C["default"].createElement(c["default"],{type:"vertical",style:{height:"62px"}}),C["default"].createElement("div",{className:_["default"].div},C["default"].createElement("span",null,"\u5ba1\u6838\u4e2d\u8ba2\u5355"),C["default"].createElement("span",null,l.orderExamining?l.orderExamining:0)),C["default"].createElement(c["default"],{type:"vertical",style:{height:"62px"}}),C["default"].createElement("div",{className:_["default"].div},C["default"].createElement("span",null,"\u672c\u5468\u5b8c\u6210\u5ba1\u6279\u6570"),C["default"].createElement("span",null,l.orderWeek?l.orderWeek:0))),C["default"].createElement("div",{className:_["default"].body},C["default"].createElement("span",{className:_["default"].title},"\u8ba2\u5355\u5217\u8868"),C["default"].createElement(k["default"],{className:_["default"].form,layout:"inline"},C["default"].createElement(j,{label:"\u59d4\u6258\u4f01\u4e1a"},n("applyCompanyName")(C["default"].createElement(d["default"],{style:{width:280},placeholder:"\u8bf7\u8f93\u5165"}))),C["default"].createElement(j,{label:"\u72b6\u6001"},n("status")(C["default"].createElement(g["default"],{style:{width:280},placeholder:"\u8bf7\u9009\u62e9"},C["default"].createElement(A,{value:"2"},"\u521d\u5ba1\u4e2d"),C["default"].createElement(A,{value:"3"},"\u98ce\u63a7\u5ba1\u6838\u4e2d"),C["default"].createElement(A,{value:"4"},"\u7ec8\u5ba1\u4e2d"),C["default"].createElement(A,{value:"5"},"\u51b3\u7b56\u590d\u6838\u4e2d"),C["default"].createElement(A,{value:"6"},"\u5b8c\u6210")))),C["default"].createElement(j,{label:"\u9009\u62e9\u65e5\u671f"},n("rangePicker")(C["default"].createElement(M,{style:{width:280},allowClear:!1}))),C["default"].createElement(j,{label:"\u4e1a\u52a1\u5355\u53f7"},n("businessId")(C["default"].createElement(d["default"],{style:{width:280},placeholder:"\u8bf7\u8f93\u5165"}))),C["default"].createElement(j,{label:"\u4e1a\u52a1\u7c7b\u578b"},n("businessMode")(C["default"].createElement(g["default"],{style:{width:280},placeholder:"\u8bf7\u9009\u62e9"},C["default"].createElement(A,{value:0},"\u59d4\u6258\u91c7\u8d2d"),C["default"].createElement(A,{value:1},"\u59d4\u6258\u9500\u552e"),C["default"].createElement(A,{value:2},"\u91d1\u878d\u4ed3\u50a8"),C["default"].createElement(A,{value:4},"\u5927\u4f01\u4e1a\u59d4\u6258\u91c7\u8d2d")))),C["default"].createElement("div",null,C["default"].createElement(u["default"],{type:"primary",onClick:this.handleSearch.bind(this)},"\u67e5 \u8be2"),C["default"].createElement(u["default"],{style:{marginLeft:10},onClick:this.handleReset.bind(this)},"\u91cd \u7f6e"))),C["default"].createElement(r["default"],{columns:v,dataSource:a,rowKey:function(e,t){return t},pagination:{showQuickJumper:!0,showSizeChanger:!0,defaultCurrent:1,defaultPageSize:10,current:p,pageSize:f,total:h,onChange:this.onChange.bind(this),pageSizeOptions:["10","20","30"],showTotal:function(e,t){return"\u5171 ".concat(h," \u6761\u8bb0\u5f55 \u7b2c ").concat(p," / ").concat(m," \u9875")},onShowSizeChange:this.onShowSizeChange.bind(this)}})))}}]),t}(C.Component),w=S))||w)||w);t["default"]=I},Zg4p:function(e,t,a){e.exports={container:"container___2DdFT",crumb:"crumb___39P5Y",header:"header___16Rqg",div:"div___1-2XO",body:"body___32yw9",title:"title___2jNK8",form:"form___nA6-D"}}}]);