(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"+XJU":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("2qtc");var r=l(a("kLXV"));a("+L6B");var u=l(a("2/Rp"));a("5NDa");var o=l(a("5rEg"));a("miYZ");var d=l(a("tsqr")),i=l(a("p0pE")),s=l(a("2Taf")),c=l(a("vZ4D")),f=l(a("l4Ni")),m=l(a("ujKo")),p=l(a("MhPg"));a("y8nQ");var h=l(a("Vl3Y"));a("OaEy");var y,v,g,E,_=l(a("2fM7")),b=n(a("q1tI")),k=l(a("aKnw")),x=a("Hg0r"),C=a("7Qib"),N=a("fblM"),M=_["default"].Option,S=(y=h["default"].create(),v=(0,x.connect)(function(e){var t=e.supplyChain,a=e.global;return{supplyChain:t,global:a}}),y(g=v((E=function(e){function t(e){var a;return(0,s["default"])(this,t),a=(0,f["default"])(this,(0,m["default"])(t).call(this,e)),a.selectChange=function(e){a.setState({type:e})},a.handleSubmit=function(e){e.stopPropagation();var t=a.props.form.validateFields,l=(a.props.dispatch,a.state.type);t(function(e,t){if(!e){var n=a.state,r=n.applyCompanyName,u=n.applyCompanyId,o={applyCompanyName:r,applyCompanyId:u,tradeGoodsTypeName:t.tradeGoodsTypeName,sysToken:sessionStorage.getItem("sysToken")};(0,N.postApplication)({body:(0,i["default"])({},o,t),businessMode:l}).then(function(e){0===e.code?(d["default"].success("\u7533\u8bf7\u5df2\u63d0\u4ea4\uff0c\u8bf7\u7b49\u5f85\u5de5\u4f5c\u4eba\u5458\u4e0e\u4f60\u8054\u7cfb\uff01"),a.props.form.resetFields(),a.visibleCtrl(!1)):d["default"].error(e.msg)})}})},a.state={visible:!1,tradeGoods:[],type:"0"},a}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.props.dispatch;this.setState({applyCompanyName:localStorage.companyName,userToken:localStorage.token,applyCompanyId:localStorage.companyId})}},{key:"visibleCtrl",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.type,l=t.global.user,n=this.state,d=(n.tradeGoods,n.visible),s={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},c={background:"url(../../assets/supply/9.png) no-repeat center center",backgroundColor:"#DA9859",boxShadow:"0px 1px 30px 0px rgba(60,59,136,0.1)",borderRadius:"2px",width:150,height:40,border:"none"};return b["default"].createElement("div",{className:k["default"].modalWrap},b["default"].createElement("div",{className:k["default"].showModal,onClick:this.visibleCtrl.bind(this,!0)}," \u65b0\u7684\u7533\u8bf7+"),b["default"].createElement(r["default"],{title:"\u670d\u52a1\u7533\u8bf7\u8868",visible:d,onCancel:this.visibleCtrl.bind(this,!1),style:{width:548,height:531},className:k["default"].modal,footer:null,closable:!1},b["default"].createElement("div",{className:k["default"].closeBox,onClick:this.visibleCtrl.bind(this,!1)},"X"),b["default"].createElement(h["default"],s,b["default"].createElement(h["default"].Item,{label:"\u7533\u8bf7\u4f01\u4e1a"},b["default"].createElement("span",null,l.companyName?l.companyName:"")),b["default"].createElement(h["default"].Item,{label:"\u4e1a\u52a1\u6a21\u5f0f"},e("businessMode",{initialValue:a,rules:[{required:!0,message:"Please input your E-mail!"}]})(b["default"].createElement(_["default"],{onChange:this.selectChange},C.configs.businessModes.map(function(e){return b["default"].createElement(M,{key:e.key,value:e.key},e.name)})))),"2"===this.state.type?null:b["default"].createElement(h["default"].Item,{label:"\u4e0a\u6e38/\u4e0b\u6e38\u4f01\u4e1a"},e("upDownstreamName",{rules:[{type:"string",message:"\u8bf7\u586b\u5165\u4e0a\u6e38/\u4e0b\u6e38\u4f01\u4e1a\uff0c\u4e0d\u8d85\u8fc720\u4e2a\u5b57\u7b26\uff01",required:!0,max:20}]})(b["default"].createElement(o["default"],{placeholder:"\u8bf7\u586b\u5165\u4e0a\u6e38/\u4e0b\u6e38\u4f01\u4e1a"}))),b["default"].createElement(h["default"].Item,{label:"\u4ea4\u6613\u8d27\u54c1"},e("tradeGoodsTypeName",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u4ea4\u6613\u8d27\u54c1\uff01"}]})(b["default"].createElement(o["default"],{placeholder:"\u8bf7\u586b\u5165\u8d27\u54c1"}))),b["default"].createElement(h["default"].Item,{label:"\u6570\u91cf"},e("quantity",{rules:[{required:!0,message:"\u8d27\u54c1\u6570\u91cf\u586b\u5165\u4e0d\u6b63\u786e\uff01",pattern:new RegExp(/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/g)}]})(b["default"].createElement(o["default"],{placeholder:"\u8bf7\u586b\u5165\u6570\u91cf"}))),b["default"].createElement(h["default"].Item,{label:"\u9884\u8ba1\u91d1\u989d"},e("estimatedAmount",{rules:[{required:!0,message:"\u8bf7\u586b\u5165\u9884\u8ba1\u91d1\u989d\uff01",pattren:C.utils.moneyExp}]})(b["default"].createElement(o["default"],{addonBefore:"\uffe5",placeholder:"\u8bf7\u8f93\u5165\u9884\u8ba1\u91d1\u989d"}))),b["default"].createElement(h["default"].Item,{label:"",wrapperCol:{xs:{span:24},sm:{span:24}},style:{}},b["default"].createElement(u["default"],{type:"primary",style:(0,i["default"])({float:"right",marginRight:"8%"},c),onClick:this.handleSubmit},"\u786e\u5b9a")))))}}]),t}(b.Component),g=E))||g)||g);t["default"]=S,S.defaultProps={visible:!0}},"/43E":function(e,t,a){e.exports={container:"container___UZPBx"}},"0V0b":function(e,t,a){e.exports={container:"container___3tdoP",titleBox:"titleBox___3mbWR",symbol:"symbol___2PCVl",riskTitle:"riskTitle___1iJdJ",name:"name___3cLZr",buttonBox:"buttonBox___1wriy",btn:"btn___219sr",span:"span___1rK72",firstNumber:"firstNumber___2wrQr",normalNumber:"normalNumber___2I5Mi",pagination:"pagination___1A7fY"}},"0l3N":function(e,t,a){e.exports={app:"app___dpWmV",card:"card___GiMdD",item:"item___UbeEi",name:"name___19GzO",value:"value___hHrbT",content:"content___2XFtE",pie:"pie___27JQ-"}},"19Zt":function(e,t,a){e.exports={bill:"bill___dWtp9",card:"card___2gPQ2",spread:"spread___2OfNP",statistics:"statistics___Rp107",content:"content___1O0Ky",pie:"pie___2-YPS"}},"2KBN":function(e,t,a){e.exports={container:"container___30VbN",titleBox:"titleBox___3Y_tQ",title:"title___3KKVP",firstNumber:"firstNumber___3Pq1v",normalNumber:"normalNumber___1U2Bj",name:"name___2C-Xi"}},"85PQ":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("14J3");var r=n(a("BMrR"));a("jCWc");var u=n(a("kPKH"));a("Telt");var o=n(a("Tckk")),d=n(a("2Taf")),i=n(a("vZ4D")),s=n(a("l4Ni")),c=n(a("ujKo")),f=n(a("MhPg")),m=l(a("q1tI")),p=n(a("dg95")),h=function(e){function t(){var e,a;(0,d["default"])(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,s["default"])(this,(e=(0,c["default"])(t)).call.apply(e,[this].concat(n))),a.state={now:""},a.getTime=function(){var e=(new Date).getHours();a.setState({now:e})},a}return(0,f["default"])(t,e),(0,i["default"])(t,[{key:"componentDidMount",value:function(){this.getTime()}},{key:"render",value:function(){var e=this.props,t=e.userData,a=e.otherData,l=this.state.now,n={header:{xxl:4,xl:4,lg:6,md:8,sm:6,xs:6},text:{xxl:12,xl:12,lg:18,md:16,sm:18,xs:18},count:{xxl:8,xl:8,lg:24,md:24,sm:24,xs:24}};return m["default"].createElement("div",{className:p["default"].headerWrap},m["default"].createElement(r["default"],{className:p["default"].HeaderContent},m["default"].createElement(u["default"],n.header,m["default"].createElement("div",{className:p["default"].avatar},m["default"].createElement(o["default"],{size:"large",src:t.img}))),m["default"].createElement(u["default"],n.text,m["default"].createElement("div",{className:p["default"].content},m["default"].createElement("div",{className:p["default"].contentTitle},l<12&&l>=6?m["default"].createElement("span",null,"\u4e0a\u5348\u597d"):l>=12&&l<19?m["default"].createElement("span",null,"\u4e0b\u5348\u597d"):m["default"].createElement("span",null,"\u665a\u4e0a\u597d"),"\uff0c",t.name?t.name:"","\uff0c\u795d\u4f60\u5f00\u5fc3\u6bcf\u4e00\u5929\uff01"))),0!==Object.keys(a).length&&m["default"].createElement(u["default"],n.count,m["default"].createElement("div",{className:p["default"].extraContent},a&&a.length&&a.map(function(e,t){return m["default"].createElement("div",{className:p["default"].statItem,key:t},m["default"].createElement("p",null,e.label),m["default"].createElement("p",{className:p["default"].titleNum},e.value))})))))}}]),t}(m.Component);t["default"]=h},"8AmC":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var d=n(a("kPKH")),i=n(a("jehZ"));a("aHsQ");var s=n(a("sGsY"));a("miYZ");var c=n(a("tsqr")),f=n(a("2Taf")),m=n(a("vZ4D")),p=n(a("l4Ni")),h=n(a("ujKo")),y=n(a("MhPg"));a("7Kak");var v=n(a("9yH6"));a("y8nQ");var g=n(a("Vl3Y")),E=n(a("3a4m")),_=n(a("bKel")),b=n(a("WGPu")),k=a("Hg0r"),x=n(a("fxoc")),C=a("fblM");a("/Bmh");var N,M,S,P,D=n(a("eN9K")),T=g["default"].Item,w=v["default"].Button,B=v["default"].Group,q={monthDate:{alias:"\u6708\u4efd"},payment:{alias:"\u91d1\u989d"}},F=(N=g["default"].create(),M=(0,k.connect)(function(e){var t=e.global,a=e.loading;return{global:t,loading:a.effects}}),N(S=(0,_["default"])(S=M((P=function(e){function t(e){var a;return(0,f["default"])(this,t),a=(0,p["default"])(this,(0,h["default"])(t).call(this)),a.getChartData=function(e){(0,C.getFinancialChart)(e).then(function(t){t&&0===t.code?(a.chart.source(t.data,q),a.setState({key:e.type})):(c["default"].error("\u83b7\u53d6\u8d22\u52a1\u7ba1\u7406\u56fe\u8868\u4fe1\u606f\u5931\u8d25:"+t.msg),a.chart.source([],q),a.setState({key:2})),a.chart.axis("payment",{label:{formatter:function(e){return(e/1e3).toFixed(1)+"k"}}}),a.chart.line().position("monthDate*payment"),a.chart.point().position("monthDate*payment").tooltip("monthDate*payment"),a.chart.render()})},a.getFinData=function(e){(0,C.getFinancialData)(e).then(function(e){e&&0===e.code?a.setState({data:e.data}):a.setState({data:{businessShouldPay:0,businessShouldReceived:0,totalCollection:0,totalPayment:0}},function(){return c["default"].error("\u83b7\u53d6\u8d22\u52a1\u4e2d\u5fc3\u6570\u636e\u5931\u8d25:"+e.msg)})})},a.getList=function(e){(0,C.getListInfo)(e).then(function(t){t&&0===t.code?a.setState({visible:!0,list:t.data,page:t.page,type:e.type}):a.setState({list:[],page:{pageSize:20,currentPage:1,totalPage:0,totalRecords:0},type:e.type},function(){return c["default"].error("\u83b7\u53d6\u8d22\u52a1\u4e2d\u5fc3\u5217\u8868\u5931\u8d25:"+t.msg)})})},a.showModal=function(e,t){var l=a.props.location.query.companyName;l?(a.getFinData({companyName:l}),a.getList({type:e,current:t,companyName:l})):(a.getFinData({}),a.getList({type:e,current:t}))},a.onChange=function(e){var t=a.props.location.query.companyName;a.chart.clear(),t?a.getChartData({type:e.target.value,companyName:t}):a.getChartData({type:e.target.value})},a.onCurrentChange=function(e){var t=a.props.location.query.companyName,l=a.state.type;t?a.getList({type:l,current:e,companyName:t}):a.getList({type:l,current:e})},a.handlePush=function(e){var t=a.props.global.role,l=a.props.location.query.companyName;a.setState({visible:!1},function(){1===t.roleId||2===t.roleId||l?(sessionStorage.setItem("businessMode",e.type),E["default"].push("/orderManage/details?enterType=1&key=details&id=".concat(e.id))):E["default"].push("/home?companyName=".concat(e.name))})},a.state={key:2,type:null,visible:!1,data:{businessShouldPay:0,businessShouldReceived:0,totalCollection:0,totalPayment:0},list:[],page:{pageSize:20,currentPage:1,totalPage:0,totalRecords:0}},a.chart=null,a}return(0,y["default"])(t,e),(0,m["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.location.query.companyName,t=this.state.key;this.chart=new x["default"].Chart({container:"financeChart",forceFit:!0,height:320,padding:[20,40,60,80]}),e?(this.getFinData({companyName:e}),this.getChartData({type:t,companyName:e})):(this.getFinData({}),this.getChartData({type:t}))}},{key:"componentWillReceiveProps",value:function(e,t){var a=this.state.key;e.location!==this.props.location&&(e.location&&e.location.query&&e.location.query.companyName?(this.getFinData({companyName:e.location.query.companyName}),this.getChartData({type:a,companyName:e.location.query.companyName})):(this.getFinData({}),this.getChartData({type:a})))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,l=a.key,n=a.type,c=a.visible,f=a.data,m=a.list,p=a.page,h={xxl:5,xl:5,lg:5,md:12,sm:12,xs:24},y=[];return f&&("pay"===n?y.push({title:"\u603b\u4ed8\u6b3e\u91d1\u989d",value:f.totalPayment},{title:"\u4e1a\u52a1\u5e94\u4ed8\u6b3e",value:f.businessShouldPay,color:"#1890FF"}):y.push({title:"\u603b\u6536\u6b3e\u91d1\u989d",value:f.totalCollection},{title:"\u4e1a\u52a1\u5e94\u6536\u6b3e",value:f.businessShouldReceived,color:"#FF6600"})),r["default"].createElement("div",{className:b["default"].container},r["default"].createElement(u["default"],{bordered:!1,title:"\u8d22\u52a1\u7ba1\u7406"},r["default"].createElement(o["default"],{className:b["default"].pricesBox},r["default"].createElement(d["default"],(0,i["default"])({},h,{onClick:this.showModal.bind(this,"pay",1)}),r["default"].createElement(s["default"],{title:"\u603b\u4ed8\u6b3e\u91d1\u989d",prefix:"\uffe5",value:f.totalPayment?f.totalPayment.toFixed(2):0,valueStyle:{color:"rgba(0, 0, 0, 0.85)"}})),r["default"].createElement(d["default"],(0,i["default"])({},h,{onClick:this.showModal.bind(this,"pay",1)}),r["default"].createElement(s["default"],{title:"\u4e1a\u52a1\u5e94\u4ed8\u6b3e",prefix:"\uffe5",value:f.businessShouldPay?f.businessShouldPay.toFixed(2):0,valueStyle:{color:"#1890FF"}})),r["default"].createElement(d["default"],(0,i["default"])({offset:document.documentElement.clientWidth>1200?4:0},h,{onClick:this.showModal.bind(this,"rec",1)}),r["default"].createElement(s["default"],{title:"\u603b\u6536\u6b3e\u91d1\u989d",prefix:"\uffe5",value:f.totalCollection?f.totalCollection.toFixed(2):0,valueStyle:{color:"rgba(0, 0, 0, 0.85)"}})),r["default"].createElement(d["default"],(0,i["default"])({},h,{onClick:this.showModal.bind(this,"rec",1)}),r["default"].createElement(s["default"],{title:"\u4e1a\u52a1\u5e94\u6536\u6b3e",prefix:"\uffe5",value:f.businessShouldReceived?f.businessShouldReceived.toFixed(2):0,valueStyle:{color:"#FF6600"}}))),r["default"].createElement("div",{className:b["default"].button},r["default"].createElement(g["default"],null,r["default"].createElement(T,null,t("key",{initialValue:l})(r["default"].createElement(B,{onChange:this.onChange},r["default"].createElement(w,{value:2},"\u4ed8\u6b3e\u91d1\u989d"),r["default"].createElement(w,{value:1},"\u6536\u6b3e\u91d1\u989d")))))),r["default"].createElement("div",{id:"financeChart"})),r["default"].createElement(D["default"],{visible:c,width:720,onCancel:function(){return e.setState({visible:!1,list:[]})},onSkip:function(t){return e.handlePush.bind(e,t)},statisticData:y,data:m,page:p,paginationProps:{defaultCurrent:1,defaultPageSize:20,current:p.currentPage,pageSize:p.pageSize,total:p.totalRecords,size:"small",onChange:this.onCurrentChange},valueColor:"pay"===n?"#1890ff":"#FF6600"}))}}]),t}(r.Component),S=P))||S)||S)||S);t["default"]=F},"8Oht":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("14J3");var r=l(a("BMrR"));a("jCWc");var u=l(a("kPKH")),o=l(a("jehZ")),d=l(a("p0pE"));a("miYZ");var i,s,c=l(a("tsqr")),f=l(a("2Taf")),m=l(a("vZ4D")),p=l(a("l4Ni")),h=l(a("ujKo")),y=l(a("MhPg")),v=n(a("q1tI")),g=l(a("bKel")),E=l(a("85PQ")),_=l(a("eIfz")),b=a("Hg0r"),k=a("3eXy"),x=n(a("Si+v")),C=n(a("qjWO")),N=(i=(0,b.connect)(function(e){var t=e.board,a=e.global;return{board:t,global:a}}),(0,g["default"])(s=i(s=function(e){function t(e){var a;return(0,f["default"])(this,t),a=(0,p["default"])(this,(0,h["default"])(t).call(this,e)),a.state={headerUserData:{img:e.global.user.userPhoto,name:e.global.user.fullName},headerOtherData:[],orderList:[],orderDynamics:[],riskCount:[],riskRatio:[],countTodoList:0,roleId:e.location&&e.location.query&&e.location.query.companyName?"-1":e.global&&e.global.role&&e.global.role.roleId||"1"},a.allMoney="",a}return(0,y["default"])(t,e),(0,m["default"])(t,[{key:"componentDidMount",value:function(){this.dataInit()}},{key:"dataInit",value:function(){var e=this,t=this.props.dispatch,a=this;(0,k.getTodo)().then(function(l){var n=e.props.global.role.roleId;if(0===l.code){var r=l.data.reduce(function(e,t){return 13===n?17===t.menuId&&(e=t.number):8!==t.menuId&&51!==t.menuId&&58!==t.menuId||(e+=t.number),e},0);a.setState({countTodoList:r},function(){var l=[1,2],n=e.props.global.role.roleId;l.includes(n)&&t({type:"board/getBoard",payload:{id:n,type:0},callback:function(e){var t=e.code,l=e.data;0===t?a.setState({headerOtherData:l}):e.msg&&c["default"].error(e.msg)}})})}else c["default"].error("\u83b7\u53d6\u5f85\u529e\u4e8b\u9879\u6570\u5931\u8d25")})}},{key:"componentWillReceiveProps",value:function(e,t){e.location!==this.props.location&&(e.location&&e.location.query&&e.location.query.companyName?this.setState({roleId:"-1"}):this.setState({roleId:e.global&&e.global.role&&e.global.role.roleId||"1"}))}},{key:"render",value:function(){var e=this.props.global.role||{},t=[1,2,3,9,13].includes(e.roleId)||e.roleId>16,a=this.state,l=a.headerUserData,n=a.headerOtherData,i=a.roleId,s=[];if(void 0!==i){var c=i>16?-2:i;s=C.roles[c].dashboard.map(function(e){return(0,d["default"])({},e,{comp:x[e.name]})})}return v["default"].createElement("div",{className:_["default"].container},v["default"].createElement("div",{className:_["default"].header},t?v["default"].createElement(E["default"],{userData:l,otherData:n}):null),v["default"].createElement("div",{className:_["default"].content},v["default"].createElement(r["default"],{gutter:24},s.map(function(e,t){var a=e.comp;return v["default"].createElement(u["default"],{style:{marginBottom:24},key:e.name,span:e.span||24},v["default"].createElement(a,(0,o["default"])({},e,{comp:null})))}))))}}]),t}(v.Component))||s)||s);t["default"]=N},"8fwv":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("14J3");var r=n(a("BMrR"));a("jCWc");var u=n(a("kPKH")),o=n(a("jehZ")),d=n(a("2Taf")),i=n(a("vZ4D")),s=n(a("l4Ni")),c=n(a("ujKo")),f=n(a("MhPg")),m=l(a("q1tI")),p=n(a("KlZd")),h=(a("WWBY"),n(a("nWb7"))),y=n(a("+XJU")),v=function(e){function t(){var e;return(0,d["default"])(this,t),e=(0,s["default"])(this,(0,c["default"])(t).call(this)),e.state={},e}return(0,f["default"])(t,e),(0,i["default"])(t,[{key:"render",value:function(){this.props.nodeList,h["default"].Description;return m["default"].createElement("div",{className:p["default"].content},m["default"].createElement(r["default"],{gutter:24},m["default"].createElement(u["default"],(0,o["default"])({className:p["default"].title},g.styles1),m["default"].createElement("div",null,"\u6211\u7684\u7533\u8bf7")),m["default"].createElement(u["default"],g.styles2,m["default"].createElement(r["default"],{className:p["default"].item},m["default"].createElement(u["default"],g.styles3,"\u6b63\u5728\u5ba1\u6838\u7684\u989d\u5ea6"),m["default"].createElement(u["default"],g.styles4,"\uffe52,262,323"))),m["default"].createElement(u["default"],g.styles2,m["default"].createElement(r["default"],{className:p["default"].item},m["default"].createElement(u["default"],g.styles3,"\u5df2\u901a\u8fc7\u7684\u989d\u5ea6"),m["default"].createElement(u["default"],g.styles4,"\uffe52,262,323"))),m["default"].createElement(u["default"],g.styles2,m["default"].createElement(r["default"],{className:p["default"].item},m["default"].createElement(u["default"],g.styles3,"\u5269\u4f59\u989d\u5ea6"),m["default"].createElement(u["default"],g.styles4,"\uffe52,262,323"))),m["default"].createElement(u["default"],(0,o["default"])({className:p["default"].addApply},g.styles1),m["default"].createElement(y["default"],null))))}}]),t}(m.Component);t["default"]=v,v.defaultProps={user:1,list:[{id:1,title:"\u4ee3\u529e\u4e8b\u9879",num:22,tip:"\u6240\u6709\u5de5\u4f5c\u6d41\u5df2\u6d41\u8f6c\u7528\u6237\u7684\u8ba2\u5355"},{id:2,title:"\u98ce\u9669\u4e8b\u9879",num:24,tip:"\u5f53\u524d\u9664\u201c\u5df2\u89e3\u9664\u201d\u4ee5\u5916\u603b\u9884\u8b66\u8ba2\u5355"},{id:3,title:"\u5f02\u5e38\u8ba2\u5355",num:22,tip:"\u5df2\u51bb\u7ed3\u7684\u8ba2\u5355\u6570"},{id:4,title:"\u8fdb\u4ef6\u901a\u8fc7\u7387",num:232,tip:"\u5408\u540c\u603b\u5ba1\u6279\u6570/\u9000\u56de\u6b21\u6570"}]};var g={styles1:{xxl:3,xl:3,lg:3,md:3,sm:24,xs:24},styles2:{xxl:6,xl:6,lg:6,md:6,sm:24,xs:24},styles3:{xxl:24,xl:24,lg:24,md:24,sm:24,xs:10},styles4:{xxl:24,xl:24,lg:24,md:24,sm:24,xs:14}}},"9pje":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(a("q1tI"));a("IzEo");var u=l(a("bx4M"));a("14J3");var o=l(a("BMrR"));a("jCWc");var d=l(a("kPKH"));a("aHsQ");var i=l(a("sGsY"));a("/zsF");var s=l(a("PArb"));a("miYZ");var c=l(a("tsqr")),f=l(a("2Taf")),m=l(a("vZ4D")),p=l(a("l4Ni")),h=l(a("ujKo")),y=l(a("MhPg")),v=l(a("fxoc")),g=a("fblM"),E=l(a("/43E")),_=function(e){function t(e){var a;return(0,f["default"])(this,t),a=(0,p["default"])(this,(0,h["default"])(t).call(this)),a.state={data:{doingOrders:0,warningOrders:0}},a.chart=null,a}return(0,y["default"])(t,e),(0,m["default"])(t,[{key:"componentDidMount",value:function(){var e=this;this.chart=new v["default"].Chart({container:"monitorChart",forceFit:!0,height:320,padding:[20,40,60,40]}),(0,g.getOrderCount)().then(function(t){t&&0===t.code?e.setState({data:t.data}):c["default"].error("\u83b7\u53d6\u76d1\u63a7\u7ba1\u7406\u5f53\u65e5\u8ba2\u5355\u7edf\u8ba1\u6570\u5931\u8d25:"+t.msg)}),(0,g.getMonitorChart)().then(function(t){if(t&&0===t.code){var a=[];t.data.forEach(function(e){a.push({dateTime:e.dateTime,key:"\u8fdb\u884c\u4e2d\u7684\u8ba2\u5355",data:e.doingOrders},{dateTime:e.dateTime,key:"\u6709\u9884\u8b66\u7684\u8ba2\u5355",data:e.warningOrders})}),e.renderChart(a)}else c["default"].error("\u83b7\u53d6\u76d1\u63a7\u7ba1\u7406\u56fe\u8868\u6570\u636e\u5931\u8d25:"+t.msg)})}},{key:"renderChart",value:function(e){this.chart.source(e),this.chart.line().position("dateTime*data").color("key"),this.chart.render()}},{key:"render",value:function(){var e=this.state.data;return r["default"].createElement("div",{className:E["default"].container},r["default"].createElement(u["default"],{bordered:!1,title:"\u76d1\u63a7\u7ba1\u7406"},r["default"].createElement(o["default"],null,r["default"].createElement(d["default"],{xxl:3,xl:4,lg:5,md:6,sm:7,xs:24},r["default"].createElement(o["default"],null,r["default"].createElement(d["default"],{style:{display:"flex",marginBottom:32},sm:24,xs:12},r["default"].createElement(s["default"],{type:"vertical",style:{width:4,height:79,marginRight:12,backgroundColor:"#1890FF"}}),r["default"].createElement(i["default"],{title:"\u8fdb\u884c\u4e2d\u7684\u8ba2\u5355",value:e.doingOrders,valueStyle:{fontSize:36,color:"#333333"}})),r["default"].createElement(d["default"],{style:{display:"flex",marginBottom:32},sm:24,xs:12},r["default"].createElement(s["default"],{type:"vertical",style:{width:4,height:79,marginRight:12,backgroundColor:"#00FF00"}}),r["default"].createElement(i["default"],{title:"\u6709\u9884\u8b66\u7684\u8ba2\u5355",value:e.warningOrders,valueStyle:{fontSize:36,color:"#333333"}})))),r["default"].createElement(d["default"],{xxl:21,xl:20,lg:19,md:18,sm:17,xs:24},r["default"].createElement("div",{id:"monitorChart"})))))}}]),t}(r.Component);t["default"]=_},A4DE:function(e,t,a){e.exports={RiskRatio:"RiskRatio___1Fmtw",spread:"spread___he9W9",rankBox:"rankBox___jzQgg",circle:"circle___3iN9Y",name:"name___1OT8Z",percent:"percent___1ZCnb",count:"count___3s-Tb"}},"F7D/":function(e,t,a){e.exports={container:"container___1CjgM",rowBox:"rowBox___2lA1f",title:"title___1qd4e",barBox:"barBox___sD0EF",ranking:"ranking___1vv5g",item:"item___1W4sC",first:"first___2OmuK",num:"num___1EqB1",name:"name___2aH8o",pagination:"pagination___1vlk4"}},H2P0:function(e,t,a){e.exports={firstNumber:"firstNumber___1lC1m",normalNumber:"normalNumber___3roCY",name:"name___b_yVX",paginationBox:"paginationBox___2bluX"}},KlZd:function(e,t,a){e.exports={content:"content___1prTX",title:"title___6ecvT",item:"item___3oL3t",addApply:"addApply___2giyP"}},QJBZ:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(a("q1tI"));a("2qtc");var u=l(a("kLXV"));a("DjyN");var o=l(a("NUBc"));a("IzEo");var d=l(a("bx4M"));a("T2oS");var i=l(a("W9HT"));a("aHsQ");var s=l(a("sGsY"));a("jCWc");var c=l(a("kPKH"));a("14J3");var f=l(a("BMrR"));a("Pwec");var m=l(a("CtXQ")),p=l(a("eHn4"));a("miYZ");var h=l(a("tsqr")),y=l(a("2Taf")),v=l(a("vZ4D")),g=l(a("l4Ni")),E=l(a("ujKo")),_=l(a("rlhR")),b=l(a("MhPg")),k=l(a("3a4m")),x=a("WWBY"),C=a("fblM"),N=l(a("F7D/")),M=[{key:"profit",tab:"\u5229\u6da6\u989d"},{key:"sales",tab:"\u9500\u552e\u989d"}],S=function(e){function t(){var e,a;(0,y["default"])(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,g["default"])(this,(e=(0,E["default"])(t)).call.apply(e,[this].concat(n))),a.state={key:"profit",rank:[],rankModal:[],page:{currentPage:1,pageSize:20,totalPage:0,totalRecords:0},chart:[],loading:!1,visible:!1},a.getRank=function(e){var t=e.type,l=e.current,n=(0,_["default"])(a);n.setState({loading:!0},function(){(0,C.getAmountRank)({type:t,current:l}).then(function(e){0===e.code?1===l?n.setState({rank:e.data.list||e.data,rankModal:e.data.list||e.data,page:e.page,loading:!1}):n.setState({rankModal:e.data.list||e.data,page:e.page,loading:!1}):n.setState({rank:[],rankModal:[],page:{currentPage:1,pageSize:20,totalPage:0,totalRecords:0},loading:!1},function(){return h["default"].error("\u83b7\u53d6\u95ed\u5377\u4e1a\u52a1\u6570\u636e\u6392\u884c\u5931\u8d25:"+e.msg)})})})},a.getChart=function(e){var t=e.type,l=e.companyName;(0,C.getAmountChart)({type:t,companyName:l}).then(function(e){if(e&&0===e.code){var t=[];e.data.forEach(function(e){t.push({x:e.date,y:e.record})}),a.setState({chart:t})}else a.setState({chart:[]},function(){return h["default"].error("\u83b7\u53d6\u95ed\u5377\u4e1a\u52a1\u989d\u5ea6\u56fe\u8868\u6570\u636e\u5931\u8d25:"+e.msg)})})},a.onTabChange=function(e,t){a.setState((0,p["default"])({},t,e)),a.getRank({type:e,current:1}),a.getChart({type:e})},a.showModal=function(){var e=a.state.loading;if(e)return h["default"].warning("\u6570\u636e\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u7b49");a.setState({visible:!0})},a.onCurrentChange=function(e){var t=a.state.key;a.getRank({key:t,current:e})},a}return(0,b["default"])(t,e),(0,v["default"])(t,[{key:"componentDidMount",value:function(){var e=this.state.key;this.getRank({type:e,current:1}),this.getChart({type:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.key,l=t.rank,n=t.rankModal,p=t.page,h=t.chart,y=t.loading,v=t.visible;return r["default"].createElement("div",{className:N["default"].container},r["default"].createElement(d["default"],{activeTabKey:a,bodyStyle:{position:"relative"},extra:r["default"].createElement(m["default"],{onClick:this.showModal,style:{position:"absolute",top:17.5,right:24,fontSize:18,cursor:"pointer",zIndex:100},type:"arrows-alt"}),headStyle:{position:"relative"},tabList:M,onTabChange:function(t){e.onTabChange(t,"key")}},r["default"].createElement(f["default"],{gutter:60},r["default"].createElement(c["default"],{md:10,lg:12,xl:15,xxl:17},r["default"].createElement(f["default"],{className:N["default"].rowBox},r["default"].createElement("span",{className:N["default"].title},"profit"===a?"\u95ed\u5377\u4e1a\u52a1\u5229\u6da6\u989d":"\u4e1a\u52a1\u9500\u552e\u989d")),r["default"].createElement(f["default"],{className:N["default"].barBox},r["default"].createElement(x.Bar,{height:300,data:h}))),r["default"].createElement(c["default"],{md:14,lg:12,xl:9,xxl:7},r["default"].createElement(i["default"],{spinning:y},r["default"].createElement(f["default"],null,r["default"].createElement(c["default"],null,r["default"].createElement("span",{className:N["default"].title},"profit"===a?"\u5229\u6da6":"\u9500\u552e","\u6392\u540d")),r["default"].createElement(c["default"],{className:N["default"].ranking},l.map(function(e,t){if(t<7)return r["default"].createElement(f["default"],{className:N["default"].item,key:t},r["default"].createElement(c["default"],{span:2},r["default"].createElement("div",{className:t<3?N["default"].first:N["default"].num},t+1)),r["default"].createElement(c["default"],{span:14},r["default"].createElement("span",{onClick:function(){return k["default"].push("/home?companyName=".concat(e.name))},className:N["default"].name},e.name?e.name:"\u65e0")),r["default"].createElement(c["default"],{span:8},r["default"].createElement(s["default"],{valueStyle:{fontSize:14,color:"rgba(0, 0, 0, 0.65)"},prefix:"\uffe5",value:e.record?e.record.toFixed(2):0})))}))))))),r["default"].createElement(u["default"],{width:640,visible:v,onCancel:function(){return e.setState({visible:!1})},footer:null},n.map(function(e,t){return r["default"].createElement(f["default"],{gutter:20,key:t,style:{marginTop:16}},r["default"].createElement(c["default"],{span:2},r["default"].createElement("div",{className:(p.currentPage-1)*p.pageSize+t<3?N["default"].first:N["default"].num},(p.currentPage-1)*p.pageSize+t+1)),r["default"].createElement(c["default"],{span:15},r["default"].createElement("span",{onClick:function(){return k["default"].push("/home?companyName=".concat(e.name))},className:N["default"].name},e.name?e.name:"\u65e0")),r["default"].createElement(c["default"],{span:7},r["default"].createElement(s["default"],{valueStyle:{fontSize:14,color:"rgba(0, 0, 0, 0.65)"},prefix:"\uffe5",value:e.record?e.record.toFixed(2):0})))}),r["default"].createElement("div",{className:N["default"].pagination},r["default"].createElement(o["default"],{defaultCurrent:1,defaultPageSize:20,current:p.currentPage,pageSize:p.pageSize,total:p.totalRecords,size:"small",onChange:this.onCurrentChange}))))}}]),t}(r.Component);t["default"]=S},SGNL:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("IzEo");var r=l(a("bx4M"));a("14J3");var u=l(a("BMrR"));a("jCWc");var o=l(a("kPKH")),d=l(a("jehZ"));a("aHsQ");var i=l(a("sGsY")),s=l(a("p0pE"));a("miYZ");var c,f,m,p=l(a("tsqr")),h=l(a("2Taf")),y=l(a("vZ4D")),v=l(a("l4Ni")),g=l(a("ujKo")),E=l(a("MhPg")),_=n(a("q1tI")),b=l(a("3a4m")),k=l(a("bKel")),x=l(a("fxoc")),C=l(a("19Zt")),N=a("Hg0r"),M=a("fblM"),S=l(a("eN9K")),P=(c=(0,N.connect)(function(e){var t=e.global,a=e.loading;return{global:t,loading:a.effects}}),(0,k["default"])(f=c((m=function(e){function t(e){var a;return(0,h["default"])(this,t),a=(0,v["default"])(this,(0,g["default"])(t).call(this,e)),a.getList=function(e,t){var l=a.props.location.query.companyName;(0,M.getBillList)({type:e,currentPage:t,companyName:l}).then(function(t){0===t.code?a.setState({visible:!0,list:t.data,page:t.page,type:e}):a.setState({list:[],page:{pageSize:20,currentPage:1,totalPage:0,totalRecords:0},type:e},function(){return p["default"].error(t.msg)})})},a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handlePush=function(e){var t=a.props.global.role,l=a.props.location.query.companyName;a.setState({visible:!1},function(){1===t.roleId||2===t.roleId||l?(sessionStorage.setItem("businessMode",e.type),b["default"].push("/orderManage/details?enterType=1&key=details&id=".concat(e.id))):b["default"].push("/home?companyName=".concat(e.name))})},a.state={salesType:"all",currentTabKey:"",visible:!1,statisticData:{},chartData:[],list:[],page:{pageSize:20,currentPage:1,totalPage:0,totalRecords:0},type:0},a._chart=null,a}return(0,E["default"])(t,e),(0,y["default"])(t,[{key:"init",value:function(e){var t=this;(0,M.getBillData)(e).then(function(e){0===e.code&&t.setState({statisticData:e.data})}),(0,M.getInvoice)(e).then(function(e){0===e.code&&t.setState({chartData:t.chartDataHandle(e.data)},function(){t._chart.source(t.state.chartData),t._chart.render()})})}},{key:"chartDataHandle",value:function(e){var t=[],a=[];return e.forEach(function(e){t.push({monthDate:e.monthDate,"\u91d1\u989d":e.invoice,name:"\u5df2\u5f00\u7968\u91d1\u989d"}),a.push({monthDate:e.monthDate,"\u91d1\u989d":e.ticketCollection,name:"\u5df2\u6536\u7968\u91d1\u989d"})}),[].concat(t,a)}},{key:"componentDidMount",value:function(){var e=this.props.location.query.companyName,t={};e&&(t["companyName"]=e),this._chart=new x["default"].Chart({container:"billContainer",forceFit:!0,height:320,padding:[20,40,60,80]}),this._chart.interval().position("monthDate*\u91d1\u989d").color("name").adjust([{type:"dodge",marginRatio:1/32}]),this.init(t)}},{key:"componentWillReceiveProps",value:function(e,t){e.location!==this.props.location&&(e.location&&e.location.query&&e.location.query.companyName?this.init({companyName:e.location.query.companyName}):this.init({}))}},{key:"modalControl",value:function(e,t){var a=this,l=this.props.location.query.companyName;e?((0,M.getBillData)({companyName:l}).then(function(e){0===e.code&&a.setState({statisticData:e.data})}),this.getList(t,1)):this.setState({visible:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,l=t.statisticData,n=t.list,c=t.type,f=t.page,m=this.props.statistics,p={xxl:5,xl:5,lg:5,md:12,sm:12,xs:24},h=[];return 0===c?h.push({title:m[0].name,value:l[m[0].key]},{title:m[1].name,value:l[m[1].key],color:"#1890FF"}):h.push({title:m[2].name,value:l[m[2].key]},{title:m[3].name,value:l[m[3].key],color:"#FF6600"}),_["default"].createElement("div",{className:C["default"].bill,style:(0,s["default"])({},this.props.style)},_["default"].createElement(r["default"],{className:C["default"].card,bordered:!1,title:"\u7968\u636e\u7ba1\u7406",style:{height:"100%"}},_["default"].createElement(u["default"],{className:C["default"].statistics},m&&m.length?m.map(function(t,a){return _["default"].createElement(o["default"],(0,d["default"])({offset:document.documentElement.clientWidth>1200&&2===a?4:0},p,{style:{cursor:"pointer"},key:t.key,onClick:e.modalControl.bind(e,!0,a<2?0:1)}),_["default"].createElement(i["default"],{valueStyle:a%2===0?{color:"rgba(0, 0, 0, 0.85)"}:a<2?{color:"#1890FF"}:{color:"#FF6600"},title:t.name,prefix:"\uffe5",value:l[t.key]?l[t.key].toFixed(2):0}))}):null),_["default"].createElement("div",{className:C["default"].content},_["default"].createElement("div",{id:"billContainer"}))),_["default"].createElement(S["default"],{visible:a,width:720,onCancel:function(){return e.modalControl(!1)},onSkip:function(t){return e.handlePush.bind(e,t)},statisticData:h,data:n,page:f,paginationProps:{defaultCurrent:1,defaultPageSize:20,current:f.currentPage,pageSize:f.pageSize,total:f.totalRecords,size:"small",onChange:function(t){return e.getList(c,t)}},valueColor:0===c?"#1890ff":"#FF6600"}))}}]),t}(_.Component),f=m))||f)||f);t["default"]=P,P.defaultProps={statistics:[{name:"\u5df2\u5f00\u53d1\u7968\u91d1\u989d",key:"alreadyPayBill"},{name:"\u5e94\u5f00\u53d1\u7968\u91d1\u989d",key:"shouldPayBill"},{name:"\u5df2\u6536\u53d1\u7968\u91d1\u989d",key:"alreadyReceivedBill"},{name:"\u5e94\u6536\u53d1\u7968\u91d1\u989d",key:"shouldReceivedBill"}]}},"Si+v":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.CompanyHeader=t.Monitor=t.Amount=t.Risk=t.TotalProfit=t.Welcome=t.EnterPrise=t.Todo=t.Finance=t.Bill=t.RiskRatio=t.Applys=void 0;var n=l(a("q1tI")),r=l(a("8fwv")),u=l(a("fQ9K")),o=l(a("SGNL")),d=l(a("8AmC")),i=l(a("lpmn")),s=l(a("sW2R")),c=l(a("vFiV")),f=l(a("u++m")),m=l(a("tyhO")),p=l(a("QJBZ")),h=l(a("9pje")),y=l(a("bnwF")),v=function(e){return n["default"].createElement(r["default"],e)};t.Applys=v;var g=function(e){return n["default"].createElement(u["default"],e)};t.RiskRatio=g;var E=function(e){return n["default"].createElement(o["default"],e)};t.Bill=E;var _=function(e){return n["default"].createElement(d["default"],e)};t.Finance=_;var b=function(e){return n["default"].createElement(i["default"],e)};t.Todo=b;var k=function(e){return n["default"].createElement(s["default"],e)};t.EnterPrise=k;var x=function(e){return n["default"].createElement(c["default"],e)};t.Welcome=x;var C=function(e){return n["default"].createElement(f["default"],e)};t.TotalProfit=C;var N=function(e){return n["default"].createElement(m["default"],e)};t.Risk=N;var M=function(e){return n["default"].createElement(p["default"],e)};t.Amount=M;var S=function(e){return n["default"].createElement(h["default"],e)};t.Monitor=S;var P=function(e){return n["default"].createElement(y["default"],e)};t.CompanyHeader=P},WGPu:function(e,t,a){e.exports={container:"container___3EIfj",pricesBox:"pricesBox___3WACM",button:"button____axM0"}},aKnw:function(e,t,a){e.exports={modalWrap:"modalWrap___1fVS-",showModal:"showModal___tLkV1",modal:"modal___2_nJk",closeBox:"closeBox___2iPhx"}},bnwF:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("sPJy");var u,o,d=n(a("bE4q")),i=n(a("2Taf")),s=n(a("vZ4D")),c=n(a("l4Ni")),f=n(a("ujKo")),m=n(a("MhPg")),p=(n(a("3a4m")),n(a("wY1l"))),h=n(a("bKel")),y=n(a("rPeW")),v=(0,h["default"])((o=function(e){function t(){var e,a;(0,i["default"])(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,c["default"])(this,(e=(0,f["default"])(t)).call.apply(e,[this].concat(n))),a.state={},a}return(0,m["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props.location.query.companyName;return r["default"].createElement("div",{className:y["default"].container},r["default"].createElement(d["default"],null,r["default"].createElement(d["default"].Item,null,r["default"].createElement(p["default"],{to:"/home"},"\u603b\u89c8")," "),r["default"].createElement(d["default"].Item,null,"\u516c\u53f8\u8be6\u60c5")),r["default"].createElement("p",{className:y["default"].companyName},e))}}]),t}(r.Component),u=o))||u;t["default"]=v},dg95:function(e,t,a){e.exports={headerWrap:"headerWrap___3rDGK",HeaderContent:"HeaderContent___1hHRy",avatar:"avatar___2dnnf",content:"content___3WhyI",contentTitle:"contentTitle___olCwb",extraContent:"extraContent___2AuFV",statItem:"statItem___-EXiI",titleNum:"titleNum___11Wm-"}},eIfz:function(e,t,a){e.exports={container:"container___zAJxZ"}},eN9K:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("2qtc");var u=n(a("kLXV"));a("DjyN");var o=n(a("NUBc"));a("14J3");var d=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("aHsQ");var s,c=n(a("sGsY")),f=n(a("2Taf")),m=n(a("vZ4D")),p=n(a("l4Ni")),h=n(a("ujKo")),y=n(a("MhPg")),v=(n(a("17x9")),n(a("3a4m")),n(a("bKel"))),g=n(a("H2P0")),E=(0,v["default"])(s=function(e){function t(){return(0,f["default"])(this,t),(0,p["default"])(this,(0,h["default"])(t).apply(this,arguments))}return(0,y["default"])(t,e),(0,m["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.width,l=e.onCancel,n=e.onSkip,s=e.statisticData,f=e.data,m=e.page,p=e.paginationProps,h=e.valueColor;return r["default"].createElement(u["default"],{visible:t,width:a,footer:null,centered:!0,onCancel:l},r["default"].createElement(d["default"],null,s.map(function(e,t){return r["default"].createElement(i["default"],{style:{textAlign:"center"},span:12,key:t},r["default"].createElement(c["default"],{title:e.title,prefix:"\uffe5",value:e.value?e.value.toFixed(2):0,valueStyle:e.color?{color:e.color}:{color:"rgba(0, 0, 0, 0.85)"}}))})),f.map(function(e,t){return r["default"].createElement(d["default"],{gutter:10,key:t,style:{marginTop:16}},r["default"].createElement(i["default"],{span:2},r["default"].createElement("div",{className:(m.currentPage-1)*m.pageSize+t<3?g["default"].firstNumber:g["default"].normalNumber},(m.currentPage-1)*m.pageSize+t+1)),r["default"].createElement(i["default"],{span:10},r["default"].createElement("span",{onClick:n(e),className:g["default"].name},e.name)),r["default"].createElement(i["default"],{span:6},r["default"].createElement(c["default"],{valueStyle:{fontSize:14,color:"rgba(0, 0, 0, 0.65)"},prefix:"\uffe5",value:e.alreadyData?e.alreadyData.toFixed(2):0})),r["default"].createElement(i["default"],{span:6},r["default"].createElement(c["default"],{valueStyle:h?{fontSize:14,color:h}:{fontSize:14,color:"#1890ff"},prefix:"\uffe5",value:e.shouldData.toFixed(2)})))}),r["default"].createElement("div",{className:g["default"].paginationBox},r["default"].createElement(o["default"],p)))}}]),t}(r.Component))||s;t["default"]=E,E.defaultProps={visible:!1,width:520,onCancel:function(){},statisticData:[],data:[],page:{pageSize:20,currentPage:1,totalPage:0,totalRecords:0},paginationProps:{defaultCurrent:1,defaultPageSize:20,current:0,pageSize:20,total:0,size:"small",onChange:function(){}},valueColor:"#1890ff"}},fQ9K:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("2qtc");var r=l(a("kLXV"));a("IzEo");var u=l(a("bx4M"));a("jCWc");var o=l(a("kPKH"));a("14J3");var d=l(a("BMrR"));a("7Kak");var i=l(a("9yH6"));a("Pwec");var s=l(a("CtXQ"));a("miYZ");var c,f,m=l(a("tsqr")),p=l(a("eHn4")),h=l(a("2Taf")),y=l(a("vZ4D")),v=l(a("l4Ni")),g=l(a("ujKo")),E=l(a("MhPg")),_=l(a("p0pE")),b=n(a("q1tI")),k=l(a("3a4m")),x=l(a("bKel")),C=l(a("A4DE")),N=a("fblM"),M=a("+n12"),S=(0,x["default"])((f=function(e){function t(e){var a;return(0,h["default"])(this,t),a=(0,v["default"])(this,(0,g["default"])(t).call(this,e)),a.renderChart=function(e,t,l,n){n&&a[e].destroy(),a[e]=new G2.Chart({container:e,forceFit:!0,height:300,padding:[20,40,20,40]}),a[e].source(t),a[e].coord("theta",{innerRadius:.75}),a[e].guide().html({position:["50%","50%"],html:'<div style="color:rgba(0,0,0,0.45);font-size: 14px;text-align: center;width: 10em;">\u88ab\u5360\u7528\u8d44\u91d1<br><span style="color:rgba(0,0,0,0.85);font-size:24px">'.concat(l||0,"</span></div>"),alignX:"middle",alignY:"middle"}),a[e].tooltip({showTitle:!1}),a[e].intervalStack().position("countMoney").color("name*color",function(e,t){return t}).shape("sliceShape"),a[e].render()},a.handleChangeSalesType=function(e,t){var l=a.state,n=l.data,r=l.dataModal;a.setState((0,p["default"])({},"".concat(t?"modeModal":"mode"),e),function(){if(t){var l=P(r,e),u=l.rank,o=l.chart;a.renderChart("_ModalChart",o,r["money".concat((0,M.titleToUpperCase)(e))],!0),a.setState({rankModal:u})}else{var d=P(n,e),i=d.rank,s=d.chart;a.renderChart("_Chart",s,n["money".concat((0,M.titleToUpperCase)(e))],!0),a.setState({rank:i})}})},a.handlePush=function(e){var t=a.props.location.query.companyName,l=a.state.visible;l?a.setState({visible:!1},function(){a._ModalChart.destroy(),e.name?"\u5176\u4ed6"===e.name?m["default"].warning("\u6b64\u4e3a\u5269\u4f59\u4f01\u4e1a\u603b\u79f0\uff0c\u65e0\u6cd5\u67e5\u770b"):k["default"].push("/home?companyName=".concat(e.name)):m["default"].warning("\u65e0\u6cd5\u83b7\u53d6\u5230\u4f01\u4e1a\u4fe1\u606f")}):t?3===e.type?m["default"].warning("\u5168\u90e8\u4e1a\u52a1\u5206\u7c7b\u65e0\u6cd5\u67e5\u770b\u8ba2\u5355\u8be6\u60c5\uff01"):"\u5176\u4ed6"===e.name?m["default"].warning("\u6b64\u4e3a\u5269\u4f59\u8ba2\u5355\u603b\u79f0\uff0c\u65e0\u6cd5\u67e5\u770b"):e.orderId?(sessionStorage.setItem("businessMode",e.type),k["default"].push("/orderManage/details?enterType=1&key=details&id=".concat(e.orderId))):m["default"].warning("\u65e0\u6cd5\u83b7\u53d6\u5230\u8ba2\u5355\u4fe1\u606f"):e.name?"\u5176\u4ed6"===e.name?m["default"].warning("\u6b64\u4e3a\u5269\u4f59\u4f01\u4e1a\u603b\u79f0\uff0c\u65e0\u6cd5\u67e5\u770b"):k["default"].push("/home?companyName=".concat(e.name)):m["default"].warning("\u65e0\u6cd5\u83b7\u53d6\u5230\u4f01\u4e1a\u4fe1\u606f")},a.state={mode:"all",modeModal:"all",data:{},rank:[],dataModal:{},rankModal:[],visible:!1},a._Chart=null,a._ModalChart=null,a}return(0,E["default"])(t,e),(0,y["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.location.query.companyName;e?this.getBaseData({detail:0,companyName:e},!1):this.getBaseData({detail:0},!1)}},{key:"componentWillReceiveProps",value:function(e){e.location!==this.props.location&&(e.location&&e.location.query&&e.location.query.companyName?this.getBaseData({detail:0,companyName:e.location.query.companyName},!0):this.getBaseData({detail:0},!0))}},{key:"getBaseData",value:function(e,t){var a=this,l=this.state.mode;(0,N.getSettlementMoneyChart)(e).then(function(e){if(e&&0===e.code){var n=P(e.data,l),r=n.rank,u=n.chart;a.renderChart("_Chart",u,e.data["money".concat((0,M.titleToUpperCase)(l))],t),a.setState({data:e.data,rank:r})}else m["default"].error("\u83b7\u53d6\u8d44\u91d1\u5360\u7528\u6bd4\u5931\u8d25:"+e.msg)})}},{key:"getModalData",value:function(e,t){var a=this,l=a.state.modeModal;a.setState({visible:t},function(){(0,N.getSettlementMoneyChart)(e).then(function(e){if(e&&0===e.code){var t=P(e.data,l),n=t.rank,r=t.chart;a.renderChart("_ModalChart",r,e.data["money".concat((0,M.titleToUpperCase)(l))],!1),a.setState({dataModal:e.data,rankModal:n,modalMount:!1})}else m["default"].error("\u83b7\u53d6\u6240\u6709\u8d44\u91d1\u5360\u7528\u6bd4\u5931\u8d25:"+e.msg)})})}},{key:"modalControl",value:function(e){var t=this,a=this.props.location.query.companyName;e?a?this.getModalData({detail:1,companyName:a},e):this.getModalData({detail:1},e):this.setState({visible:e},function(){t._ModalChart.destroy()})}},{key:"render",value:function(){var e=this,t=this.props.isMobile,a=this.props.location.query.companyName,l=this.state,n=l.mode,c=l.modeModal,f=(l.data,l.rank),m=(l.dataModal,l.rankModal),p=l.visible;return b["default"].createElement("div",{className:C["default"].RiskRatio,style:(0,_["default"])({},this.props.styles)},b["default"].createElement(u["default"],{bordered:!1,title:a?"\u5404\u4e1a\u52a1\u8d44\u91d1\u5360\u6bd4":"\u5404\u4f01\u4e1a\u8d44\u91d1\u5360\u6bd4",style:{height:"100%"},extra:a?null:b["default"].createElement(s["default"],{type:"arrows-alt",onClick:function(){return e.modalControl(!0)},className:C["default"].spread,style:{fontSize:20}})},b["default"].createElement(d["default"],null,b["default"].createElement("div",{className:C["default"].salesTypeRadio},b["default"].createElement(i["default"].Group,{value:n,onChange:function(t){return e.handleChangeSalesType(t.target.value,0)}},b["default"].createElement(i["default"].Button,{value:"all"},"\u5168\u90e8\u4e1a\u52a1"),b["default"].createElement(i["default"].Button,{value:"buy"},"\u59d4\u6258\u91c7\u8d2d"),b["default"].createElement(i["default"].Button,{value:"sale"},"\u59d4\u6258\u9500\u552e"),b["default"].createElement(i["default"].Button,{value:"storage"},"\u91d1\u878d\u4ed3\u50a8"),b["default"].createElement(i["default"].Button,{value:"largeBuy"},"\u5927\u4f01\u4e1a\u59d4\u6258\u91c7\u8d2d")))),b["default"].createElement(d["default"],{type:"flex",align:"middle",style:{marginTop:24},gutter:32},b["default"].createElement(o["default"],{xs:24,sm:24,md:24,lg:13,xl:13,xxl:13},b["default"].createElement("div",{id:"_Chart"})),b["default"].createElement(o["default"],{xs:24,sm:24,md:24,lg:11,xl:11,xxl:11},f.map(function(t,a){return b["default"].createElement(d["default"],{type:"flex",align:"middle",gutter:12,className:C["default"].rankBox,key:a},b["default"].createElement(o["default"],{span:2},b["default"].createElement("div",{className:C["default"].circle,style:{backgroundColor:t.color}})),b["default"].createElement(o["default"],{span:10},b["default"].createElement("span",{onClick:e.handlePush.bind(e,t),className:C["default"].name},t.name?t.name:"\u65e0")),b["default"].createElement(o["default"],{span:4},b["default"].createElement("span",{className:C["default"].percent},t.percent,"%")),b["default"].createElement(o["default"],{span:8},b["default"].createElement("span",{className:C["default"].count},"\uffe5",void 0!==t.countMoney&&null!==t.countMoney?t.countMoney:"\u672a\u77e5")))})))),b["default"].createElement(r["default"],{visible:p,centered:!0,forceRender:!0,width:t?document.documentElement.clientWidth-30:.7*document.documentElement.clientWidth,onCancel:this.modalControl.bind(this,!1),footer:null},b["default"].createElement(u["default"],{bordered:!1,title:a?"\u5404\u4e1a\u52a1\u8d44\u91d1\u5360\u6bd4":"\u5404\u4f01\u4e1a\u8d44\u91d1\u5360\u6bd4",style:{height:"100%"},extra:a?b["default"].createElement(s["default"],{type:"arrows-alt",onClick:function(){return modalControl(!0)},className:C["default"].spread,style:{fontSize:20}}):null},b["default"].createElement(d["default"],null,b["default"].createElement("div",{className:C["default"].salesTypeRadio},b["default"].createElement(i["default"].Group,{value:c,onChange:function(t){return e.handleChangeSalesType(t.target.value,1)}},b["default"].createElement(i["default"].Button,{value:"all"},"\u5168\u90e8\u4e1a\u52a1"),b["default"].createElement(i["default"].Button,{value:"buy"},"\u59d4\u6258\u91c7\u8d2d"),b["default"].createElement(i["default"].Button,{value:"sale"},"\u59d4\u6258\u9500\u552e"),b["default"].createElement(i["default"].Button,{value:"storage"},"\u91d1\u878d\u4ed3\u50a8"),b["default"].createElement(i["default"].Button,{value:"largeBuy"},"\u5927\u4f01\u4e1a\u59d4\u6258\u91c7\u8d2d")))),b["default"].createElement(d["default"],{type:"flex",align:"middle",style:{marginTop:24},gutter:32},b["default"].createElement(o["default"],{xs:24,sm:24,md:24,lg:13,xl:13,xxl:13},b["default"].createElement("div",{id:"_ModalChart"})),b["default"].createElement(o["default"],{xs:24,sm:24,md:24,lg:11,xl:11,xxl:11},m.map(function(t,a){return b["default"].createElement(d["default"],{type:"flex",align:"middle",gutter:12,className:C["default"].rankBox,key:"modal_"+a},b["default"].createElement(o["default"],{span:2},b["default"].createElement("div",{className:C["default"].circle,style:{backgroundColor:t.color}})),b["default"].createElement(o["default"],{span:10},b["default"].createElement("span",{onClick:e.handlePush.bind(e,t),className:C["default"].name},t.name?t.name:"\u65e0")),b["default"].createElement(o["default"],{span:4},b["default"].createElement("span",{className:C["default"].percent},t.percent>0?t.percent:0,"%")),b["default"].createElement(o["default"],{span:8},b["default"].createElement("span",{className:C["default"].count},"\uffe5",void 0!==t.countMoney&&null!==t.countMoney?t.countMoney:"\u672a\u77e5")))}))))))}}]),t}(b.Component),c=f))||c;t["default"]=S;var P=function(e,t){var a=[],l=[],n=0,r=0,u=0;return e[t].forEach(function(e,t){e.countMoney>0&&(n=t,u+=e.countMoney)}),e[t].forEach(function(e,t){var o=D();n!==t&&e.countMoney>0&&0!==u&&(r+=Number((100*e.countMoney/u).toFixed(2))),a.push((0,_["default"])({},e,{color:o,percent:e.countMoney>0&&0!==u?n===t?(100-r).toFixed(2):(100*e.countMoney/u).toFixed(2):0})),e.countMoney>=0&&l.push((0,_["default"])({},e,{color:o,percent:e.countMoney>0&&0!==u?n===t?(100-r).toFixed(2):(100*e.countMoney/u).toFixed(2):0}))}),{rank:a,chart:l}},D=function(){for(var e=["4","5","6","7","8","9","A","B","C","D","E","F"],t="#",a=0;a<6;a++)t+=e[Math.floor(12*Math.random())];return t}},lpmn:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("IzEo");var r=n(a("bx4M"));a("14J3");var u=n(a("BMrR"));a("jCWc");var o=n(a("kPKH")),d=n(a("jehZ")),i=n(a("p0pE")),s=n(a("2Taf")),c=n(a("vZ4D")),f=n(a("l4Ni")),m=n(a("ujKo")),p=n(a("MhPg")),h=l(a("q1tI")),y=(n(a("fxoc")),n(a("0l3N"))),v=(a("+n12"),a("fblM")),g=function(e){function t(){var e;return(0,s["default"])(this,t),e=(0,f["default"])(this,(0,m["default"])(t).call(this)),e.state={salesType:"all",currentTabKey:"profit",visible:!1,statisticData:{},chartData:[],data:[{name:"\u4ee3\u5f00\u7968",key:"dkp",value:"22"},{name:"\u4ee3\u5f00\u7968",key:"dkp0",value:"22"},{name:"\u4ee3\u5f00\u7968",key:"dkp1",value:"22"},{name:"\u4ee3\u5f00\u7968",key:"dkp2",value:"22"},{name:"\u4ee3\u5f00\u7968",key:"dkp3",value:"22"}],type:0},e._chart=null,e}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"init",value:function(){var e=this;(0,v.getBillData)().then(function(t){0===t.code&&e.setState({statisticData:t.data})})}},{key:"itemClick",value:function(e){}},{key:"render",value:function(){var e=this,t=this.state.data,a={xxl:8,xl:8,lg:8,md:8,sm:24,xs:24};return h["default"].createElement("div",{className:y["default"].app,style:(0,i["default"])({},this.props.style)},h["default"].createElement(r["default"],{className:y["default"].card,bordered:!1,style:{height:"100%"},title:"\u5f85\u529e\u7ba1\u7406"},h["default"].createElement(u["default"],{gutter:32},t&&t.length?t.map(function(t,l){return h["default"].createElement(o["default"],(0,d["default"])({},a,{key:t.key}),h["default"].createElement("div",{className:y["default"].item,onClick:e.itemClick.bind(e,t)},h["default"].createElement("span",{className:y["default"].name},t.name),h["default"].createElement("span",{className:y["default"].value},t.value)))}):null)))}}]),t}(h.Component);t["default"]=g,g.defaultProps={tabList:[{tab:"\u5229\u6da6\u989d",key:"profit"},{tab:"\u9500\u552e\u989d",key:"shouldPayBill"}]}},m0Ku:function(e,t,a){e.exports={app:"app___TXFCl",item:"item___KC6kU",role:"role___3dZbb",name:"name___2Zsn5",statistic:"statistic___PTsqZ",content:"content___2oSb0",pie:"pie___1Y21f"}},ohUi:function(e,t,a){e.exports={headerWrap:"headerWrap___1LxkH",HeaderContent:"HeaderContent___1iw7A",avatar:"avatar___zTg8k",content:"content___2bA-w",contentTitle:"contentTitle___xroeD",extraContent:"extraContent___1VjX5",statItem:"statItem___QtbXd",titleNum:"titleNum___8IC8w"}},rPeW:function(e,t,a){e.exports={container:"container___FGZ-h",companyName:"companyName___3Rjmq"}},sW2R:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(a("jehZ"));a("14J3");var u=n(a("BMrR"));a("jCWc");var o=n(a("kPKH"));a("aHsQ");var d=n(a("sGsY"));a("/zsF");var i=n(a("PArb")),s=n(a("p0pE")),c=n(a("2Taf")),f=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),h=n(a("MhPg")),y=l(a("q1tI")),v=(n(a("fxoc")),n(a("m0Ku"))),g=(a("+n12"),n(a("4dqd"))),E=a("fblM"),_=[{"\u91d1\u989d":38,name:"\u91d1\u871c",id:"qewq",business:5,fund:87989879,companyRole:"\u6838\u5fc3\u4f01\u4e1a"},{"\u91d1\u989d":38,name:"\u91d1\u871c",id:"qewq1",business:5,fund:87989879,companyRole:"\u6838\u5fc3\u4f01\u4e1a"},{"\u91d1\u989d":38,name:"\u91d1\u871c\u91d1\u871c\u6696\u548c\u7684\u6492\u8c0e\u7684\u662f\u5783\u573e\u888b\u91cc\u5c31\u662f\u7684\u5475\u5475\u5475\u7b2c\u4e09",id:"qewq2",business:5,fund:87989879,companyRole:"\u6838\u5fc3\u4f01\u4e1a"},{"\u91d1\u989d":38,name:"\u91d1\u871c",id:"qewq2",business:5,fund:87989879,companyRole:"\u6838\u5fc3\u4f01\u4e1a"},{"\u91d1\u989d":38,name:"\u91d1\u871c",id:"qewq3",business:5,fund:87989879,companyRole:"\u6838\u5fc3\u4f01\u4e1a"}],b=function(e){function t(){var e;return(0,c["default"])(this,t),e=(0,m["default"])(this,(0,p["default"])(t).call(this)),e.state={data:_},e}return(0,h["default"])(t,e),(0,f["default"])(t,[{key:"init",value:function(){var e=this;(0,E.getBillData)().then(function(t){0===t.code&&e.setState({statisticData:t.data})})}},{key:"itemClick",value:function(e){}},{key:"render",value:function(){var e=this,t=this.state.data,a={xxl:6,xl:8,lg:8,md:12,sm:24,xs:24},l={xxl:12,xl:12,lg:12,md:12,sm:24,xs:24};return y["default"].createElement("div",{className:v["default"].app,style:(0,s["default"])({},this.props.style)},y["default"].createElement(i["default"],null,"\u6240\u6709\u4f01\u4e1a"),y["default"].createElement(u["default"],{gutter:32},t&&t.length?t.map(function(t,n){return y["default"].createElement(o["default"],(0,r["default"])({},a,{key:t.key}),y["default"].createElement("div",{className:v["default"].item,onClick:e.itemClick.bind(e,t)},y["default"].createElement("div",{className:v["default"].role},t.companyRole),y["default"].createElement("h3",{className:v["default"].name},y["default"].createElement(g["default"],{length:10},t.name)),y["default"].createElement(u["default"],{className:v["default"].statistic},y["default"].createElement(o["default"],l," ",y["default"].createElement(d["default"],{title:"\u8fdb\u884c\u4e2d\u7684\u4e1a\u52a1",value:t.business})),y["default"].createElement(o["default"],l,"  ",y["default"].createElement(d["default"],{title:"\u603b\u5360\u7528\u7684\u8d44\u91d1",value:t.fund})))))}):null))}}]),t}(y.Component);t["default"]=b,b.defaultProps={tabList:[{tab:"\u5229\u6da6\u989d\u7684\u662f\u91d1\u5361\u662f\u591a\u5c11",key:"profit"},{tab:"\u9500\u552e\u989d",key:"shouldPayBill"}]}},tyhO:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("2qtc");var u=n(a("kLXV"));a("DjyN");var o=n(a("NUBc"));a("T2oS");var d=n(a("W9HT"));a("IzEo");var i=n(a("bx4M"));a("14J3");var s=n(a("BMrR"));a("jCWc");var c=n(a("kPKH"));a("aHsQ");var f=n(a("sGsY"));a("Pwec");var m=n(a("CtXQ"));a("miYZ");var p=n(a("tsqr")),h=n(a("2Taf")),y=n(a("vZ4D")),v=n(a("l4Ni")),g=n(a("ujKo")),E=n(a("rlhR")),_=n(a("MhPg"));a("iQDF");var b=n(a("+eQT"));a("y8nQ");var k,x,C,N=n(a("Vl3Y")),M=n(a("3a4m")),S=n(a("bKel")),P=n(a("fxoc")),D=a("fblM"),T=n(a("0V0b")),w=N["default"].Item,B=(b["default"].MonthPicker,b["default"].RangePicker),q=(b["default"].WeekPicker,{date:{alias:"\u65f6\u95f4"},riskExposure:{alias:"\u91d1\u989d"}}),F=(k=N["default"].create(),(0,S["default"])(x=k((C=function(e){function t(e){var a;return(0,h["default"])(this,t),a=(0,v["default"])(this,(0,g["default"])(t).call(this)),a.getData=function(e){a.setState({visible:!1},function(){(0,D.getRiskData)(e).then(function(e){e&&0===e.code?a.setState({list:e.data.riskExposureInfoDTOS,listModal:e.data.riskExposureInfoDTOS,total:e.data.todayRiskExposure,page:e.page}):(a.setState({list:[],listModal:[],total:0,page:{currentPage:1,pageSize:20,totalPage:0,totalRecords:0}}),p["default"].error("\u83b7\u53d6\u98ce\u9669\u655e\u53e3\u5217\u8868\u5931\u8d25:"+e.msg))})})},a.getChart=function(e){var t=(0,E["default"])(a);t.setState({loading:!0},function(){(0,D.getRiskChart)(e).then(function(a){a&&0===a.code?(t.setState({dateType:e.dateType,loading:!1}),t.renderChart(a.data)):(t.setState({dateType:3,loading:!1}),t.renderChart([]),p["default"].error("\u83b7\u53d6\u98ce\u9669\u655e\u53e3\u56fe\u8868\u6570\u636e\u5931\u8d25:"+a.msg))})})},a.getDataAndShowModal=function(e,t){var l=a.props.location.query.companyName,n=e;l&&(n["companyName"]=l),(0,D.getRiskData)(n).then(function(e){e&&0===e.code?a.setState({listModal:e.data.riskExposureInfoDTOS,total:e.data.todayRiskExposure,page:e.page,visible:t}):(a.setState({listModal:[],total:0,page:{currentPage:1,pageSize:20,totalPage:0,totalRecords:0}}),p["default"].error("\u83b7\u53d6\u98ce\u9669\u655e\u53e3\u5217\u8868\u5931\u8d25:"+e.msg))})},a.handleQuery=function(e){var t=a.props.form.resetFields,l=a.props.location.query.companyName,n={dateType:e};l&&(n["companyName"]=l),t(),a.getChart(n)},a.timeChange=function(e,t){var l=a.props.location.query.companyName,n={startTime:t[0],endTime:t[1]};l&&(n["companyName"]=l),a.getChart(n)},a.showModal=function(){a.getDataAndShowModal({current:1},!0)},a.hideModal=function(){a.getDataAndShowModal({current:1},!1)},a.onCurrentChange=function(e){a.getDataAndShowModal({current:e},!0)},a.handlePush=function(e){var t=a.props.location.query.companyName;t?(sessionStorage.setItem("businessMode",e.type),e.id?M["default"].push("/orderManage/details?enterType=1&key=details&id=".concat(e.id)):p["default"].error("\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u6570\u636e")):M["default"].push("/home?companyName=".concat(e.name))},a.state={list:[],listModal:[],total:0,page:{currentPage:1,pageSize:20,totalPage:0,totalRecords:0},dateType:3,loading:!1,visible:!1},a.chart=null,a}return(0,_["default"])(t,e),(0,y["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.location.query.companyName;this.chart=new P["default"].Chart({container:"riskChart",forceFit:!0,height:288,padding:[16,30,28,70]}),e?(this.getData({current:1,companyName:e}),this.getChart({dateType:3,companyName:e})):(this.getData({current:1}),this.getChart({dateType:3}))}},{key:"componentWillReceiveProps",value:function(e,t){e.location!==this.props.location&&(e.location&&e.location.query&&e.location.query.companyName?(this.getData({current:1,companyName:e.location.query.companyName}),this.getChart({dateType:3,companyName:e.location.query.companyName})):(this.getData({current:1}),this.getChart({dateType:3})))}},{key:"renderChart",value:function(e){this.chart.source(e,q),this.chart.axis("riskExposure",{label:{formatter:function(e){return e>1e8?(e/1e8).toFixed(1)+"\u4ebf":e>1e4?(e/1e4).toFixed(1)+"\u4e07":e<-1e8?(e/1e8).toFixed(1)+"\u4ebf":e<-1e4?(e/1e4).toFixed(1)+"\u4e07":e}}}),this.chart.area().position("date*riskExposure").color("#1890ff").shape("smooth"),this.chart.line().position("date*riskExposure").color("#1890ff").size(2).shape("smooth"),this.chart.render()}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,l=(t.resetFields,this.state),n=l.list,p=l.listModal,h=l.total,y=l.page,v=l.dateType,g=l.loading,E=l.visible;return r["default"].createElement("div",{className:T["default"].container},r["default"].createElement(d["default"],{spinning:g},r["default"].createElement(i["default"],{bordered:!1,title:r["default"].createElement("div",{className:T["default"].titleBox},"\u98ce\u9669\u655e\u53e3",r["default"].createElement(m["default"],{onClick:this.showModal.bind(this),style:{fontSize:18,cursor:"pointer"},type:"arrows-alt"}))},r["default"].createElement(s["default"],{type:"flex",align:"bottom"},r["default"].createElement(c["default"],null,r["default"].createElement(f["default"],{title:"\u4eca\u65e5\u603b\u98ce\u9669\u655e\u53e3",prefix:"\uffe5",value:h?h.toFixed(2):0,valueStyle:{fontSize:24,color:"#1890FF"}}))),r["default"].createElement(s["default"],{gutter:{xs:8,sm:16,md:24,lg:32}},r["default"].createElement(c["default"],{xxl:6,xl:7,lg:8,md:9,sm:24,xs:24},r["default"].createElement(s["default"],null,r["default"].createElement("span",{className:T["default"].riskTitle},"\u98ce\u9669\u655e\u53e3\u6392\u540d")),n.map(function(t,a){if(a<7)return r["default"].createElement(s["default"],{gutter:10,style:{marginTop:22},key:a},r["default"].createElement(c["default"],{span:2},r["default"].createElement("div",{className:a<3?T["default"].firstNumber:T["default"].normalNumber},a+1)),r["default"].createElement(c["default"],{span:13},r["default"].createElement("span",{onClick:e.handlePush.bind(e,t),className:T["default"].name},t.name)),r["default"].createElement(c["default"],{span:9},r["default"].createElement(f["default"],{valueStyle:{fontSize:14,color:"rgba(0, 0, 0, 0.65)"},prefix:"\uffe5",value:t.riskExposure?t.riskExposure.toFixed(2):0})))})),r["default"].createElement(c["default"],{xxl:18,xl:17,lg:16,md:15,sm:24,xs:24},r["default"].createElement(s["default"],null,r["default"].createElement("div",{className:T["default"].buttonBox},r["default"].createElement("div",{className:T["default"].btn},r["default"].createElement("span",{className:0===v?T["default"].span:"",onClick:this.handleQuery.bind(this,0)},"\u4eca\u65e5"),r["default"].createElement("span",{className:1===v?T["default"].span:"",onClick:this.handleQuery.bind(this,1)},"\u672c\u5468"),r["default"].createElement("span",{className:2===v?T["default"].span:"",onClick:this.handleQuery.bind(this,2)},"\u672c\u6708"),r["default"].createElement("span",{className:3===v?T["default"].span:"",onClick:this.handleQuery.bind(this,3)},"\u5168\u5e74")),r["default"].createElement(N["default"],{style:{marginLeft:24}},r["default"].createElement(w,{style:{marginBottom:0}},a("time")(r["default"].createElement(B,{allowClear:!1,format:"YYYY-MM-DD",onChange:this.timeChange})))))),r["default"].createElement(s["default"],null,r["default"].createElement("div",{id:"riskChart"})))))),r["default"].createElement(u["default"],{width:640,visible:E,onCancel:this.hideModal,footer:null},r["default"].createElement(d["default"],{spinning:g},r["default"].createElement(s["default"],{type:"flex",align:"bottom"},r["default"].createElement(c["default"],null,r["default"].createElement(f["default"],{title:"\u4eca\u65e5\u603b\u98ce\u9669\u655e\u53e3",prefix:"\uffe5",value:h?h.toFixed(2):0,valueStyle:{fontSize:24,color:"#1890FF"}}))),p.map(function(t,a){return r["default"].createElement(s["default"],{gutter:10,style:{marginTop:22},key:a},r["default"].createElement(c["default"],{span:2},r["default"].createElement("div",{className:(y.currentPage-1)*y.pageSize+a<3?T["default"].firstNumber:T["default"].normalNumber},(y.currentPage-1)*y.pageSize+a+1)),r["default"].createElement(c["default"],{span:15},r["default"].createElement("span",{onClick:e.handlePush.bind(e,t),className:T["default"].name},t.name)),r["default"].createElement(c["default"],{span:7},r["default"].createElement(f["default"],{valueStyle:{fontSize:14,color:"rgba(0, 0, 0, 0.65)"},prefix:"\uffe5",value:t.riskExposure?t.riskExposure.toFixed(2):0})))}),r["default"].createElement("div",{className:T["default"].pagination},r["default"].createElement(o["default"],{defaultCurrent:1,defaultPageSize:20,current:y.currentPage,pageSize:y.pageSize,total:y.totalRecords,size:"small",onChange:this.onCurrentChange})))))}}]),t}(r.Component),x=C))||x)||x);t["default"]=F},"u++m":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("T2oS");var u=n(a("W9HT"));a("IzEo");var o=n(a("bx4M"));a("14J3");var d=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("aHsQ");var s=n(a("sGsY")),c=n(a("p0pE"));a("miYZ");var f,m,p=n(a("tsqr")),h=n(a("2Taf")),y=n(a("vZ4D")),v=n(a("l4Ni")),g=n(a("ujKo")),E=n(a("rlhR")),_=n(a("MhPg")),b=n(a("3a4m")),k=n(a("bKel")),x=a("fblM"),C=n(a("2KBN")),N=(0,k["default"])((m=function(e){function t(){var e,a;(0,h["default"])(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,v["default"])(this,(e=(0,g["default"])(t)).call.apply(e,[this].concat(n))),a.state={list:[],totle:0,loading:!1},a.getRank=function(e){var t=(0,E["default"])(a);t.setState({loading:!0},function(){(0,x.getAmountRank)(e).then(function(e){e&&0===e.code?t.setState({list:e.data.list||e.data,totle:e.data.total,loading:!1}):t.setState({list:[],totle:0,loading:!1},function(){return p["default"].error("\u83b7\u53d6\u5404\u95ed\u5377\u4e1a\u52a1\u5229\u6da6\u6392\u540d\u5931\u8d25:"+e.msg)})})})},a.handlePush=function(e){sessionStorage.setItem("businessMode",e.type),b["default"].push("/orderManage/details?enterType=1&key=details&id=".concat(e.orderId))},a}return(0,_["default"])(t,e),(0,y["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.location.query.companyName;this.getRank({type:"profit",current:1,companyName:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,l=t.totle,n=t.loading;return r["default"].createElement(u["default"],{spinning:n},r["default"].createElement("div",{className:C["default"].container,style:(0,c["default"])({},this.props.styles)},r["default"].createElement(o["default"],{bordered:!1},r["default"].createElement(d["default"],null,r["default"].createElement(i["default"],null,r["default"].createElement(s["default"],{title:r["default"].createElement("span",{style:{fontSize:14,color:"#434343"}},"\u4e1a\u52a1\u603b\u5229\u6da6"),prefix:"\uffe5",value:l?l.toFixed(2):0,valueStyle:{fontSize:30,color:"#434343"}}))),r["default"].createElement(d["default"],{gutter:{xs:8,sm:16,md:24,lg:32},style:{marginTop:24}},r["default"].createElement(i["default"],null,r["default"].createElement(d["default"],null,r["default"].createElement("span",{className:C["default"].title},"\u5404\u95ed\u5377\u4e1a\u52a1\u5229\u6da6\u6392\u540d")),a.map(function(t,a){if(a<7)return r["default"].createElement(d["default"],{gutter:10,style:{marginTop:22},key:a},r["default"].createElement(i["default"],{span:3},r["default"].createElement("div",{className:a<3?C["default"].firstNumber:C["default"].normalNumber},a+1)),r["default"].createElement(i["default"],{span:14},r["default"].createElement("span",{onClick:e.handlePush.bind(e,t),className:C["default"].name},t.name)),r["default"].createElement(i["default"],{span:7},r["default"].createElement(s["default"],{valueStyle:{fontSize:14,color:"rgba(0, 0, 0, 0.65)"},prefix:"\uffe5",value:t.record?t.record.toFixed(2):0})))}))))))}}]),t}(r.Component),f=m))||f;t["default"]=N},vFiV:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("14J3");var r=n(a("BMrR"));a("jCWc");var u=n(a("kPKH"));a("Telt");var o=n(a("Tckk")),d=n(a("2Taf")),i=n(a("vZ4D")),s=n(a("l4Ni")),c=n(a("ujKo")),f=n(a("MhPg")),m=l(a("q1tI")),p=n(a("ohUi")),h=(n(a("zbOI")),function(e){function t(){var e,a;(0,d["default"])(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,s["default"])(this,(e=(0,c["default"])(t)).call.apply(e,[this].concat(n))),a.state={now:""},a.getTime=function(){var e=(new Date).getHours();a.setState({now:e})},a}return(0,f["default"])(t,e),(0,i["default"])(t,[{key:"componentDidMount",value:function(){this.getTime()}},{key:"render",value:function(){var e=this.props.data,t=e.funds,a=e.backlog,l=e.name,n=(e.user,e.img),d=e.type,i=this.state.now,s={header:{xxl:4,xl:4,lg:6,md:8,sm:6,xs:6},text:{xxl:12,xl:12,lg:18,md:16,sm:18,xs:18},count:{xxl:8,xl:8,lg:24,md:24,sm:24,xs:24}};return m["default"].createElement("div",{className:p["default"].headerWrap},m["default"].createElement(r["default"],{className:p["default"].HeaderContent},m["default"].createElement(u["default"],s.header,m["default"].createElement("div",{className:p["default"].avatar},m["default"].createElement(o["default"],{size:"large",src:n}))),m["default"].createElement(u["default"],s.text,m["default"].createElement("div",{className:p["default"].content},m["default"].createElement("div",{className:p["default"].contentTitle},i<12&&i>=6?m["default"].createElement("span",null,"\u4e0a\u5348\u597d"):i>=12&&i<19?m["default"].createElement("span",null,"\u4e0b\u5348\u597d"):m["default"].createElement("span",null,"\u665a\u4e0a\u597d"),"\uff0c",l||"","\uff0c\u795d\u4f60\u5f00\u5fc3\u6bcf\u4e00\u5929\uff01"))),m["default"].createElement(u["default"],s.count,m["default"].createElement("div",{className:p["default"].extraContent},m["default"].createElement("div",{className:p["default"].statItem},m["default"].createElement("p",null,"\u5f85\u529e\u4e8b\u9879"),m["default"].createElement("p",{className:p["default"].titleNum},a)),m["default"].createElement("div",{className:p["default"].statItem},m["default"].createElement("p",null,1===d?"\u5360\u7528\u8d44\u91d1":"\u6d89\u53ca\u8d44\u91d1"),m["default"].createElement("p",{className:p["default"].titleNum},t))))," "))}}]),t}(m.Component));t["default"]=h,h.defaultProps={data:{backlog:342,funds:34,img:{},user:1,name:"mengmengchihci"}}}}]);