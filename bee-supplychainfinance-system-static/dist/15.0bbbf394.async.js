(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"1rY0":function(e,t,n){e.exports={container:"container___gjgpn",breadcrumb:"breadcrumb___3nAtf",content:"content___2e0D8",itemBox:"itemBox___NDc17",header:"header___3RSOv",table:"table___1e3g2",row:"row___1mi3Y",delete:"delete___1OhE2",totle:"totle___1uipZ",save:"save___239fa",bottom:"bottom___2Wtey"}},2:function(e,t){},3:function(e,t){},4:function(e,t){},qU8c:function(e,t,n){"use strict";var l=n("tAuX"),a=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,n("miYZ");var i=a(n("tsqr")),o=a(n("2Taf")),c=a(n("vZ4D")),r=a(n("l4Ni")),s=a(n("ujKo")),u=a(n("rlhR")),d=a(n("MhPg")),p=l(n("q1tI")),f=(a(n("17x9")),l(n("EUZL"))),x=a(n("u/9l")),m=function(e){function t(){var e,n;(0,o["default"])(this,t);for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];return n=(0,r["default"])(this,(e=(0,s["default"])(t)).call.apply(e,[this].concat(a))),n.onImportExcel=function(e){var t=(0,u["default"])(n),l=e.target.files,a=new FileReader;a.onload=function(e){try{var n=e.target.result,l=f.read(n,{type:"binary"}),a=[];for(var o in l.Sheets)l.Sheets.hasOwnProperty(o)&&(a=a.concat(f.utils.sheet_to_json(l.Sheets[o])));i["default"].success("\u4e0a\u4f20\u6210\u529f\uff01"),t.props.onChange&&t.props.onChange(a)}catch(e){i["default"].error("\u6587\u4ef6\u7c7b\u578b\u4e0d\u6b63\u786e\uff01")}},a.readAsBinaryString(l[0])},n}return(0,d["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.text,l=t.style;return p["default"].createElement("a",{className:x["default"].panel,style:l},n,p["default"].createElement("input",{className:x["default"].input,type:"file",accept:".xlsx, .xls",onChange:function(t){return e.onImportExcel(t,1)}}))}}]),t}(p.Component),y=m;t["default"]=y,m.defaultProps={onChange:function(){return!1},style:{},text:"+\u6279\u91cf\u5bfc\u5165"}},tm50:function(e,t,n){"use strict";var l=n("g09b"),a=n("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,n("2qtc");var i=l(n("kLXV"));n("+L6B");var o=l(n("2/Rp"));n("Pwec");var c=l(n("CtXQ"));n("giR+");var r=l(n("fyUT"));n("5NDa");var s=l(n("5rEg"));n("sPJy");var u=l(n("bE4q"));n("miYZ");var d,p,f,x=l(n("tsqr")),m=l(n("2Taf")),y=l(n("vZ4D")),g=l(n("l4Ni")),h=l(n("ujKo")),v=l(n("MhPg")),E=a(n("q1tI")),b=l(n("1rY0")),I=l(n("qU8c")),A=l(n("wY1l")),j=l(n("3a4m")),N=n("Hg0r"),q=l(n("bKel")),Q=n("+n12"),C=(d=(0,N.connect)(function(e){var t=e.global,n=e.settlement,l=e.loading;return{global:t,settlement:n,loading:l.effects}}),(0,q["default"])(p=d((f=function(e){function t(){var e,n;(0,m["default"])(this,t);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return n=(0,g["default"])(this,(e=(0,h["default"])(t)).call.apply(e,[this].concat(a))),n.state={collectionInvoicesAlready:[],collectionInvoicesNot:[],productAccounts:[],qualityRequirements:[],modelData:[],shouldUpate:!0,loading:!1,visibleImport:!1,max:!1},n.addRow=function(e,t){var l=n.state,a=l.collectionInvoicesAlready,i=l.collectionInvoicesNot,o=l.productAccounts,c=l.qualityRequirements;"i1"===e?a.push({collectionTime:null,explaining:null,collectionAmount:null,invoiceTime:null,invoiceQuality:null,acountUnitPrice:null,issuedInvoiceAmount:null,taxExclusiveAmount:null,collectionMethod:null,collectionType:0,uuid:(0,Q.guid)()}):"i2"===e?i.push({collectionTime:null,explaining:null,collectionAmount:null,invoiceTime:null,invoiceQuality:null,acountUnitPrice:null,issuedInvoiceAmount:null,taxExclusiveAmount:null,collectionMethod:null,collectionType:0,uuid:(0,Q.guid)()}):"b"===e?o.push({deliveryTime:null,deliveryQuantity:null,receivingQuality:null,deductSlag:null,deductWater:null,remark:null,accountQuantity:null,quantityDifference:null,transportMethod:null,uuid:(0,Q.guid)()}):"q"===e&&c.push({qualityTestProject:null,qualityTestStandard:null,deliveryQuality:null,checkoutQuality:null,actualAccountQuality:null,qualityError:null,isconform:null,specificExplain:null,remark:null,uuid:(0,Q.guid)()}),n.setState({collectionInvoicesAlready:a,collectionInvoicesNot:i,productAccounts:o,qualityRequirements:c})},n.deleteRow=function(e,t,l){var a=n.state,i=a.collectionInvoicesAlready,o=a.collectionInvoicesNot,c=a.productAccounts,r=a.qualityRequirements;"i1"===e?i.splice(t,1):"i2"===e?o.splice(t,1):"b"===e?c.splice(t,1):"q"===e&&r.splice(t,1),n.setState({collectionInvoicesAlready:i,collectionInvoicesNot:o,productAccounts:c,qualityRequirements:r})},n.onChange=function(e,t,l,a){var i,o=n.state,c=o.collectionInvoicesAlready,r=o.collectionInvoicesNot,s=o.productAccounts,u=o.qualityRequirements;if(i=""===a||null===a||void 0===a?null:"object"===typeof a?a.target.value||null:a,i&&i.length>50)return n.setState({max:!0}),x["default"].error("\u60a8\u8f93\u5165\u7684\u5185\u5bb9\u8d85\u8fc7\u6700\u5927\u9650\u5236");"i1"===e?c[t][l]=i:"i2"===e?r[t][l]=i:"b"===e?(s[t][l]=i,"accountQuantity"===l&&s[t]["deliveryQuantity"]?s[t]["quantityDifference"]=(i-s[t]["deliveryQuantity"]).toFixed(3):"deliveryQuantity"===l&&s[t]["accountQuantity"]&&(s[t]["quantityDifference"]=(s[t]["accountQuantity"]-i).toFixed(3))):"q"===e&&(u[t][l]=i),n.setState({collectionInvoicesAlready:c,collectionInvoicesNot:r,productAccounts:s,qualityRequirements:u,shouldUpate:!n.state.shouldUpate,max:!1})},n.saveBill=function(){n.setState({loading:!0},function(){var e=n.props.dispatch,t=n.props.location.query,l=t.accountType,a=t.orderId,i=t.accountsId,o=n.state,c=o.collectionInvoicesAlready,r=o.collectionInvoicesNot,s=o.productAccounts,u=o.qualityRequirements,d=o.max,p={accountType:l,orderId:a,collectionInvoicesAlready:c,collectionInvoicesNot:r,productAccounts:s,qualityRequirements:u};if(d)return x["default"].error("\u60a8\u8f93\u5165\u7684\u5185\u5bb9\u8d85\u8fc7\u957f\u5ea6\u9650\u5236\uff0c\u4e0d\u80fd\u4fdd\u5b58\u7ed3\u7b97\u5355");i&&("0"===sessionStorage.businessMode?p["buyAccountsId"]=i:"1"===sessionStorage.businessMode?p["saleAccountsId"]=i:"2"===sessionStorage.businessMode?p["storageAccountsId"]=i:p["largeBuyAccountsId"]=i),e({type:"settlement/sava",payload:p,success:function(){n.setState({loading:!1},function(){x["default"].success("\u7ed3\u7b97\u5355\u4fdd\u5b58\u6210\u529f"),n.goBack()})},error:function(e){n.setState({loading:!1},function(){return x["default"].error("\u7ed3\u7b97\u5355\u4fdd\u5b58\u5931\u8d25\uff1a"+e)})}})})},n.print=function(){var e=n.props.global.role,t=n.props.location.query.accountType,l=n.state,a=l.collectionInvoicesAlready,i=l.collectionInvoicesNot,o=l.productAccounts,c=l.qualityRequirements,r=0,s=0,u=0,d=0,p=0,f=0,x=0,m=0,y=0,g=0,h="",v="",E="",b="";a.forEach(function(e){isNaN(e.collectionAmount)||(r+=parseFloat(e.collectionAmount)),isNaN(e.invoiceQuality)||(s+=parseFloat(e.invoiceQuality)),isNaN(e.issuedInvoiceAmount)||(u+=parseFloat(e.issuedInvoiceAmount)),isNaN(e.taxExclusiveAmount)||(d+=parseFloat(e.taxExclusiveAmount))}),i.forEach(function(e){isNaN(e.collectionAmount)||(r+=parseFloat(e.collectionAmount)),isNaN(e.invoiceQuality)||(s+=parseFloat(e.invoiceQuality)),isNaN(e.issuedInvoiceAmount)||(u+=parseFloat(e.issuedInvoiceAmount)),isNaN(e.taxExclusiveAmount)||(d+=parseFloat(e.taxExclusiveAmount))}),o.forEach(function(e){isNaN(e.deliveryQuantity)||(p+=parseFloat(e.deliveryQuantity)),isNaN(e.receivingQuality)||(f+=parseFloat(e.receivingQuality)),isNaN(e.deductSlag)||(x+=parseFloat(e.deductSlag)),isNaN(e.deductWater)||(m+=parseFloat(e.deductWater)),isNaN(e.accountQuantity)||(y+=parseFloat(e.accountQuantity)),isNaN(e.quantityDifference)||(g+=parseFloat(e.quantityDifference))}),a.map(function(e){return h+='<div style="margin-top: -1px; display: flex; justify-content: space-between; align-items: center;">\n              <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">'.concat(e.collectionTime?e.collectionTime:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.explaining?e.explaining:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.collectionAmount?e.collectionAmount:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.invoiceTime?e.invoiceTime:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.invoiceQuality?e.invoiceQuality:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.acountUnitPrice?e.acountUnitPrice:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.issuedInvoiceAmount?e.issuedInvoiceAmount:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.taxExclusiveAmount?e.taxExclusiveAmount:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.collectionMethod?e.collectionMethod:"","</span>\n            </div>")}),i.map(function(e){return v+='<div style="margin-top: -1px; display: flex; justify-content: space-between; align-items: center;">\n              <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">'.concat(e.explaining?e.explaining:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.collectionAmount?e.collectionAmount:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.invoiceQuality?e.invoiceQuality:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.acountUnitPrice?e.acountUnitPrice:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.issuedInvoiceAmount?e.issuedInvoiceAmount:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.taxExclusiveAmount?e.taxExclusiveAmount:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.collectionMethod?e.collectionMethod:"","</span>\n            </div>")}),o.map(function(e){return E+='<div style="margin-top: -1px; display: flex; justify-content: space-between; align-items: center;">\n              <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">'.concat(e.deliveryTime?e.deliveryTime:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.deliveryQuantity?e.deliveryQuantity:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.receivingQuality?e.receivingQuality:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.deductSlag?e.deductSlag:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.deductWater?e.deductWater:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.remark?e.remark:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.accountQuantity?e.accountQuantity:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.quantityDifference?e.quantityDifference:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.transportMethod?e.transportMethod:"","</span>\n            </div>")}),c.map(function(e){return b+='<div style="margin-top: -1px; display: flex; justify-content: space-between; align-items: center;">\n              <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">'.concat(e.qualityTestProject?e.qualityTestProject:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.qualityTestStandard?e.qualityTestStandard:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.deliveryQuality?e.deliveryQuality:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.checkoutQuality?e.checkoutQuality:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.actualAccountQuality?e.actualAccountQuality:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.qualityError?e.qualityError:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.isconform?e.isconform:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.specificExplain?e.specificExplain:"",'</span>\n              <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(e.remark?e.remark:"","</span>\n            </div>")});var I='<div style="padding: 20px 50px 20px 20px;">\n      <div style="width: 100%;">\n        <span style="display: block; padding: 32px 10px 12px; font: bold 14px normal;">'.concat("0"===t?1===e.roleId||2===e.roleId?"\u4ed8\u6b3e\u65f6\u95f4\u53ca\u53d1\u7968\u6536\u53d6\u60c5\u51b5":"\u6536\u6b3e\u65f6\u95f4\u53ca\u53d1\u7968\u5f00\u5177\u60c5\u51b5":1===e.roleId||2===e.roleId?"\u6536\u6b3e\u65f6\u95f4\u53ca\u53d1\u7968\u5f00\u5177\u60c5\u51b5":"\u4ed8\u6b3e\u65f6\u95f4\u53ca\u53d1\u7968\u6536\u53d6\u60c5\u51b5",'</span>\n        <div>\n          <div style="display: flex; justify-content: space-between; align-items: center;">\n            <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u65e5\u671f</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u8bf4\u660e</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat("0"===t?1===e.roleId||2===e.roleId?"\u5df2\u4ed8\u6b3e":"\u5df2\u6536\u6b3e":1===e.roleId||2===e.roleId?"\u5df2\u6536\u6b3e":"\u5df2\u4ed8\u6b3e",'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5f00\u7968\u65e5\u671f</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5f00\u7968\u6570\u91cf</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u7ed3\u7b97\u5355\u4ef7</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat("0"===t?1===e.roleId||2===e.roleId?"\u5df2\u6536\u53d6\u8fdb\u9879\u53d1\u7968":"\u5df2\u5f00\u5177\u53d1\u7968\u91d1\u989d":1===e.roleId||2===e.roleId?"\u5df2\u5f00\u5177\u53d1\u7968\u91d1\u989d":"\u5df2\u6536\u53d6\u8fdb\u9879\u53d1\u7968",'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u4e0d\u542b\u7a0e\u91d1\u989d</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat("0"===t?1===e.roleId||2===e.roleId?"\u4ed8\u6b3e\u65b9\u5f0f":"\u6536\u6b3e\u65b9\u5f0f":1===e.roleId||2===e.roleId?"\u6536\u6b3e\u65b9\u5f0f":"\u4ed8\u6b3e\u65b9\u5f0f","</span>\n          </div>\n          ").concat(h,'\n          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">\n            <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u8bf4\u660e</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat("0"===t?1===e.roleId||2===e.roleId?"\u5e94\u4ed8\u6b3e":"\u5e94\u6536\u6b3e":1===e.roleId||2===e.roleId?"\u5e94\u6536\u6b3e":"\u5e94\u4ed8\u6b3e",'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5f00\u7968\u6570\u91cf</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u7ed3\u7b97\u5355\u4ef7</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat("0"===t?1===e.roleId||2===e.roleId?"\u5e94\u6536\u53d6\u8fdb\u9879\u53d1\u7968":"\u5e94\u5f00\u5177\u53d1\u7968\u91d1\u989d":1===e.roleId||2===e.roleId?"\u5e94\u5f00\u5177\u53d1\u7968\u91d1\u989d":"\u5e94\u6536\u53d6\u8fdb\u9879\u53d1\u7968",'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u4e0d\u542b\u7a0e\u91d1\u989d</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat("0"===t?1===e.roleId||2===e.roleId?"\u4ed8\u6b3e\u65b9\u5f0f":"\u6536\u6b3e\u65b9\u5f0f":1===e.roleId||2===e.roleId?"\u6536\u6b3e\u65b9\u5f0f":"\u4ed8\u6b3e\u65b9\u5f0f","</span>\n          </div>\n          ").concat(v,'\n          <div style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center;">\n            <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5408\u8ba1</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(r.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(s.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(0!==s?(u/s).toFixed(3):0,'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(u.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(d.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n          </div>\n        </div>\n      </div>\n\n      <div style="width: 100%;">\n        <span style="display: block; padding: 32px 10px 12px; font: bold 14px normal;">\u4ea7\u54c1\u7ed3\u7b97\u60c5\u51b5</span>\n        <div>\n          <div style="display: flex; justify-content: space-between; align-items: center;">\n            <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat("0"===t?1===e.roleId||2===e.roleId?"\u6536\u8d27\u65f6\u95f4":"\u53d1\u8d27\u65f6\u95f4":1===e.roleId||2===e.roleId?"\u53d1\u8d27\u65f6\u95f4":"\u6536\u8d27\u65f6\u95f4",'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u53d1\u8d27\u6570\u91cf</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u6536\u8d27\u6570\u91cf</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u6263\u6e23</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u6263\u6c34</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5176\u4ed6</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u7ed3\u7b97\u6570\u91cf</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u6570\u91cf\u5dee\u5f02</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u8fd0\u8f93\u65b9\u5f0f</span>\n          </div>\n          ').concat(E,'\n          <div style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center;">\n            <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5408\u8ba1</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(p.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(f.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(x.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(m.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(y.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">').concat(g.toFixed(3),'</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;"></span>\n          </div>\n        </div>\n      </div>\n\n      <div style="width: 100%;">\n        <span style="display: block; padding: 32px 10px 12px; font: bold 14px normal;">\u8d28\u68c0\u8981\u6c42</span>\n        <div>\n          <div style="display: flex; justify-content: space-between; align-items: center;">\n            <span style="flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u8d28\u68c0\u9879\u76ee</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u8d28\u68c0\u6807\u51c6</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u53d1\u8d27\u54c1\u8d28</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u68c0\u9a8c\u54c1\u8d28</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5b9e\u9645\u7ed3\u7b97\u54c1\u8d28</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u54c1\u8d28\u8bef\u5dee</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u662f\u5426\u7b26\u5408\u540c\u8981\u6c42</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5177\u4f53\u8bf4\u660e</span>\n            <span style="margin-left: -1px; flex: 1; height: 34px; display: flex; justify-content: center; align-items: center; font: 12px normal; border: 1px #333333 solid;">\u5907\u6ce8</span>\n          </div>\n          ').concat(b,"\n        </div>\n      </div>\n    </div>"),A=window.open("","newwindow","toolbar=no, menubar=no, scrollbars=no, resizable=no, location=n o, status=no");return A.document.body.innerHTML=I,A.print(),!1},n.showModalImport=function(e){n.setState({visibleImport:!0})},n.handleCancelImport=function(){n.setState({visibleImport:!1})},n}return(0,v["default"])(t,e),(0,y["default"])(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch,n=this.props.location.query,l=n.accountType,a=n.orderId;n.accountsId;t({type:"settlement/getInfo",payload:a,success:function(t){var n=[],a=[],i=[],o=[];if(0!==Object.keys(t).length){var c="0"===l&&t.sale?t.sale:t.buy?t.buy:[],r=c.collectionInvoicesAlready,s=void 0===r?[]:r,u=c.collectionInvoicesNot,d=void 0===u?[]:u,p=c.productAccounts,f=void 0===p?[]:p,x=c.qualityRequirements,m=void 0===x?[]:x;s.forEach(function(e){n.push({collectionTime:e.collectionTime,explaining:e.explaining,collectionAmount:e.collectionAmount,invoiceTime:e.invoiceTime,invoiceQuality:e.invoiceQuality,acountUnitPrice:e.acountUnitPrice,issuedInvoiceAmount:e.issuedInvoiceAmount,taxExclusiveAmount:e.taxExclusiveAmount,collectionMethod:e.collectionMethod,collectionType:0,uuid:(0,Q.guid)()})}),d.forEach(function(e){a.push({collectionTime:e.collectionTime,explaining:e.explaining,collectionAmount:e.collectionAmount,invoiceTime:e.invoiceTime,invoiceQuality:e.invoiceQuality,acountUnitPrice:e.acountUnitPrice,issuedInvoiceAmount:e.issuedInvoiceAmount,taxExclusiveAmount:e.taxExclusiveAmount,collectionMethod:e.collectionMethod,collectionType:0,uuid:(0,Q.guid)()})}),f.forEach(function(e){i.push({deliveryTime:e.deliveryTime,deliveryQuantity:e.deliveryQuantity,receivingQuality:e.receivingQuality,deductSlag:e.deductSlag,deductWater:e.deductWater,remark:e.remark,accountQuantity:e.accountQuantity,quantityDifference:e.quantityDifference,transportMethod:e.transportMethod,uuid:(0,Q.guid)()})}),m.forEach(function(e){o.push({qualityTestProject:e.qualityTestProject,qualityTestStandard:e.qualityTestStandard,deliveryQuality:e.deliveryQuality,checkoutQuality:e.checkoutQuality,actualAccountQuality:e.actualAccountQuality,qualityError:e.qualityError,isconform:e.isconform,specificExplain:e.specificExplain,remark:e.remark,uuid:(0,Q.guid)()})}),e.setState({collectionInvoicesAlready:n,collectionInvoicesNot:a,productAccounts:i,qualityRequirements:o})}},error:function(e){x["default"].error("\u83b7\u53d6\u7ed3\u7b97\u5355\u5931\u8d25:"+e)}})}},{key:"excelImport",value:function(e){var t=this.state,n=t.collectionInvoicesAlready,l=t.collectionInvoicesNot,a=t.productAccounts,i=t.qualityRequirements;e:for(var o=0;o<e.length;o++){var c=e[o],r={collectionTime:null,explaining:null,collectionAmount:null,invoiceTime:null,invoiceQuality:null,acountUnitPrice:null,issuedInvoiceAmount:null,taxExclusiveAmount:null,collectionMethod:null,collectionType:0,uuid:(0,Q.guid)()},s={collectionTime:null,explaining:null,collectionAmount:null,invoiceTime:null,invoiceQuality:null,acountUnitPrice:null,issuedInvoiceAmount:null,taxExclusiveAmount:null,collectionMethod:null,collectionType:0,uuid:(0,Q.guid)()},u={deliveryTime:null,deliveryQuantity:null,receivingQuality:null,deductSlag:null,deductWater:null,remark:null,accountQuantity:null,quantityDifference:null,transportMethod:null,uuid:(0,Q.guid)()},d={qualityTestProject:null,qualityTestStandard:null,deliveryQuality:null,checkoutQuality:null,actualAccountQuality:null,qualityError:null,isconform:null,specificExplain:null,remark:null,uuid:(0,Q.guid)()};for(var p in c)if(p.indexOf("\u65e5\u671f")>-1)p.indexOf("\u5f00\u7968\u65e5\u671f")>-1?r.invoiceTime=c[p]:r.collectionTime=c[p];else if(p.indexOf("\u8bf4\u660e")>-1)p.indexOf("\u5177\u4f53\u8bf4\u660e")>-1?d.specificExplain=c[p]:p.indexOf("\u8bf4\u660e2")>-1?s.explaining=c[p]:r.explaining=c[p];else if(p.indexOf("\u6536\u6b3e")>-1||p.indexOf("\u4ed8\u6b3e")>-1)p.indexOf("\u65b9\u5f0f")>-1?p.indexOf("2")>-1?s.collectionMethod=c[p]:r.collectionMethod=c[p]:p.indexOf("\u5df2")>-1?r.collectionAmount=c[p]:s.collectionAmount=c[p];else if(p.indexOf("\u5f00\u7968\u6570\u91cf")>-1)p.indexOf("2")>-1?s.invoiceQuality=c[p]:r.invoiceQuality=c[p];else if(p.indexOf("\u7ed3\u7b97\u5355\u4ef7")>-1)p.indexOf("2")>-1?s.acountUnitPrice=c[p]:r.acountUnitPrice=c[p];else if(p.indexOf("\u5f00\u5177\u53d1\u7968\u91d1\u989d")>-1||p.indexOf("\u6536\u53d6\u8fdb\u9879\u53d1\u7968")>-1)p.indexOf("\u5df2")>-1?r.issuedInvoiceAmount=c[p]:s.issuedInvoiceAmount=c[p];else if(p.indexOf("\u4e0d\u542b\u7a0e\u91d1\u989d")>-1)p.indexOf("2")>-1?s.taxExclusiveAmount=c[p]:r.taxExclusiveAmount=c[p];else if(p.indexOf("\u53d1\u8d27\u65f6\u95f4")>-1||p.indexOf("\u6536\u8d27\u65f6\u95f4")>-1)u.deliveryTime=c[p];else if(p.indexOf("\u53d1\u8d27\u6570\u91cf")>-1)u.deliveryQuantity=c[p];else if(p.indexOf("\u6536\u8d27\u6570\u91cf")>-1)u.receivingQuality=c[p];else if(p.indexOf("\u6263\u6e23")>-1)u.deductSlag=c[p];else if(p.indexOf("\u6263\u6c34")>-1)u.deductWater=c[p];else if(p.indexOf("\u5176\u4ed6")>-1)u.remark=c[p];else if(p.indexOf("\u7ed3\u7b97\u6570\u91cf")>-1)u.accountQuantity=c[p];else if(p.indexOf("\u6570\u91cf\u5dee\u5f02")>-1)u.quantityDifference=c[p];else if(p.indexOf("\u8fd0\u8f93\u65b9\u5f0f")>-1)u.transportMethod=c[p];else if(p.indexOf("\u8d28\u68c0\u9879\u76ee")>-1)d.qualityTestProject=c[p];else if(p.indexOf("\u8d28\u68c0\u6807\u51c6")>-1||p.indexOf("\u5408\u540c\u6807\u51c6")>-1)d.qualityTestStandard=c[p];else if(p.indexOf("\u53d1\u8d27\u54c1\u8d28")>-1)d.deliveryQuality=c[p];else if(p.indexOf("\u68c0\u9a8c\u54c1\u8d28")>-1)d.checkoutQuality=c[p];else if(p.indexOf("\u5b9e\u9645\u7ed3\u7b97\u54c1\u8d28")>-1)d.actualAccountQuality=c[p];else if(p.indexOf("\u54c1\u8d28\u8bef\u5dee")>-1)d.qualityError=c[p];else if(p.indexOf("\u662f\u5426\u7b26\u5408\u540c\u8981\u6c42")>-1)d.isconform=c[p];else{if(!(p.indexOf("\u5907\u6ce8")>-1)){x["default"].error("\u8bf7\u4f7f\u7528\u4e0b\u8f7d\u7684\u6a21\u677f\uff0c\uff08\u52ff\u6539\u53d8\u8868\u683c\u6807\u9898)");break e}d.remark=c[p]}n.push(r),l.push(s),a.push(u),i.push(d)}this.setState({collectionInvoicesAlready:n,collectionInvoicesNot:l,productAccounts:a,qualityRequirements:i,visibleImport:!1})}},{key:"goBack",value:function(){if(sessionStorage.orderDetailUrl)try{var e=sessionStorage.orderDetailUrl,t=e.split("?")[1]||"",n=t.split("&").filter(function(e){return-1===e.indexOf("key=")});n.push("key=settlement"),j["default"].push("".concat(e.split("?")[0],"?").concat(n.join("&")))}catch(e){j["default"].goBack()}else j["default"].goBack()}},{key:"render",value:function(){var e=this,t=this.props.global.role,n=this.state,l=n.collectionInvoicesAlready,a=n.collectionInvoicesNot,d=n.productAccounts,p=n.qualityRequirements,f=n.loading,x=n.visibleImport,m=this.props.location.query.accountType,y=0,g=0,h=0,v=0,N=0,q=0,Q=0,C=0,T=0,k=0;return 0!==l.length&&l.forEach(function(e){isNaN(e.collectionAmount)||(y+=parseFloat(e.collectionAmount||0)),isNaN(e.invoiceQuality)||(g+=parseFloat(e.invoiceQuality||0)),isNaN(e.issuedInvoiceAmount)||(h+=parseFloat(e.issuedInvoiceAmount||0)),isNaN(e.taxExclusiveAmount)||(v+=parseFloat(e.taxExclusiveAmount||0))}),0!==a.length&&a.forEach(function(e){isNaN(e.collectionAmount)||(y+=parseFloat(e.collectionAmount||0)),isNaN(e.invoiceQuality)||(g+=parseFloat(e.invoiceQuality||0)),isNaN(e.issuedInvoiceAmount)||(h+=parseFloat(e.issuedInvoiceAmount||0)),isNaN(e.taxExclusiveAmount)||(v+=parseFloat(e.taxExclusiveAmount||0))}),E["default"].createElement("div",{className:b["default"].container},E["default"].createElement(u["default"],{className:b["default"].breadcrumb},E["default"].createElement(u["default"].Item,null,E["default"].createElement(A["default"],{to:"".concat(sessionStorage.orderDetailUrl||"")},"\u8ba2\u5355\u8be6\u60c5")),E["default"].createElement(u["default"].Item,null,"0"===m?1===t.roleId||2===t.roleId?"\u91c7\u8d2d\u7ed3\u7b97\u5355":"\u9500\u552e\u7ed3\u7b97\u5355":1===t.roleId||2===t.roleId?"\u9500\u552e\u7ed3\u7b97\u5355":"\u91c7\u8d2d\u7ed3\u7b97\u5355")),E["default"].createElement("div",{className:b["default"].content},E["default"].createElement("div",{className:b["default"].itemBox},E["default"].createElement("span",{className:b["default"].header},"0"===m?1===t.roleId||2===t.roleId?"\u4ed8\u6b3e\u65f6\u95f4\u53ca\u53d1\u7968\u6536\u53d6\u60c5\u51b5":"\u6536\u6b3e\u65f6\u95f4\u53ca\u53d1\u7968\u5f00\u5177\u60c5\u51b5":1===t.roleId||2===t.roleId?"\u6536\u6b3e\u65f6\u95f4\u53ca\u53d1\u7968\u5f00\u5177\u60c5\u51b5":"\u4ed8\u6b3e\u65f6\u95f4\u53ca\u53d1\u7968\u6536\u53d6\u60c5\u51b5"),E["default"].createElement("div",{className:b["default"].table},E["default"].createElement("div",{className:b["default"].row},E["default"].createElement("span",null,"\u65e5\u671f"),E["default"].createElement("span",null,"\u8bf4\u660e"),E["default"].createElement("span",null,"0"===m?1===t.roleId||2===t.roleId?"\u5df2\u4ed8\u6b3e":"\u5df2\u6536\u6b3e":1===t.roleId||2===t.roleId?"\u5df2\u6536\u6b3e":"\u5df2\u4ed8\u6b3e"),E["default"].createElement("span",null,"\u5f00\u7968\u65e5\u671f"),E["default"].createElement("span",null,"\u5f00\u7968\u6570\u91cf"),E["default"].createElement("span",null,"\u7ed3\u7b97\u5355\u4ef7"),E["default"].createElement("span",null,"0"===m?1===t.roleId||2===t.roleId?"\u5df2\u6536\u53d6\u8fdb\u9879\u53d1\u7968":"\u5df2\u5f00\u5177\u53d1\u7968\u91d1\u989d":1===t.roleId||2===t.roleId?"\u5df2\u5f00\u5177\u53d1\u7968\u91d1\u989d":"\u5df2\u6536\u53d6\u8fdb\u9879\u53d1\u7968"),E["default"].createElement("span",null,"\u4e0d\u542b\u7a0e\u91d1\u989d"),E["default"].createElement("span",null,"0"===m?1===t.roleId||2===t.roleId?"\u4ed8\u6b3e\u65b9\u5f0f":"\u6536\u6b3e\u65b9\u5f0f":1===t.roleId||2===t.roleId?"\u6536\u6b3e\u65b9\u5f0f":"\u4ed8\u6b3e\u65b9\u5f0f")),0!==l.length&&l.map(function(t,n){return E["default"].createElement("div",{className:b["default"].row,key:t.uuid},E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.collectionTime,onChange:e.onChange.bind(e,"i1",n,"collectionTime")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.explaining,onChange:e.onChange.bind(e,"i1",n,"explaining")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.collectionAmount,onChange:e.onChange.bind(e,"i1",n,"collectionAmount")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.invoiceTime,onChange:e.onChange.bind(e,"i1",n,"invoiceTime")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.invoiceQuality,onChange:e.onChange.bind(e,"i1",n,"invoiceQuality")})),E["default"].createElement("span",null,t.acountUnitPrice),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.issuedInvoiceAmount,onChange:e.onChange.bind(e,"i1",n,"issuedInvoiceAmount")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.taxExclusiveAmount,onChange:e.onChange.bind(e,"i1",n,"taxExclusiveAmount")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.collectionMethod,onChange:e.onChange.bind(e,"i1",n,"collectionMethod")})),E["default"].createElement(c["default"],{className:b["default"]["delete"],type:"minus-circle",theme:"filled",onClick:e.deleteRow.bind(e,"i1",n)}))}),E["default"].createElement(o["default"],{style:{marginTop:10},icon:"plus",type:"dashed",block:!0,onClick:this.addRow.bind(this,"i1")},"\u6dfb\u52a0\u4e00\u884c"),E["default"].createElement("div",{className:b["default"].row,style:{marginTop:10}},E["default"].createElement("span",null),E["default"].createElement("span",null,"\u8bf4\u660e"),E["default"].createElement("span",null,"0"===m?1===t.roleId||2===t.roleId?"\u5e94\u4ed8\u6b3e":"\u5e94\u6536\u6b3e":1===t.roleId||2===t.roleId?"\u5e94\u6536\u6b3e":"\u5e94\u4ed8\u6b3e"),E["default"].createElement("span",null),E["default"].createElement("span",null,"\u5f00\u7968\u6570\u91cf"),E["default"].createElement("span",null,"\u7ed3\u7b97\u5355\u4ef7"),E["default"].createElement("span",null,"0"===m?1===t.roleId||2===t.roleId?"\u5e94\u6536\u53d6\u8fdb\u9879\u53d1\u7968":"\u5e94\u5f00\u5177\u53d1\u7968\u91d1\u989d":1===t.roleId||2===t.roleId?"\u5e94\u5f00\u5177\u53d1\u7968\u91d1\u989d":"\u5e94\u6536\u53d6\u8fdb\u9879\u53d1\u7968"),E["default"].createElement("span",null,"\u4e0d\u542b\u7a0e\u91d1\u989d"),E["default"].createElement("span",null,"0"===m?1===t.roleId||2===t.roleId?"\u4ed8\u6b3e\u65b9\u5f0f":"\u6536\u6b3e\u65b9\u5f0f":1===t.roleId||2===t.roleId?"\u6536\u6b3e\u65b9\u5f0f":"\u4ed8\u6b3e\u65b9\u5f0f")),0!==a.length&&a.map(function(t,n){return E["default"].createElement("div",{className:b["default"].row,key:t.uuid},E["default"].createElement("span",null),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.explaining,onChange:e.onChange.bind(e,"i2",n,"explaining")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.collectionAmount,onChange:e.onChange.bind(e,"i2",n,"collectionAmount")})),E["default"].createElement("span",null),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.invoiceQuality,onChange:e.onChange.bind(e,"i2",n,"invoiceQuality")})),E["default"].createElement("span",null,t.acountUnitPrice),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.issuedInvoiceAmount,onChange:e.onChange.bind(e,"i2",n,"issuedInvoiceAmount")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.taxExclusiveAmount,onChange:e.onChange.bind(e,"i2",n,"taxExclusiveAmount")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.collectionMethod,onChange:e.onChange.bind(e,"i2",n,"collectionMethod")})),E["default"].createElement(c["default"],{className:b["default"]["delete"],type:"minus-circle",theme:"filled",onClick:e.deleteRow.bind(e,"i2",n)}))}),E["default"].createElement(o["default"],{style:{marginTop:10},icon:"plus",type:"dashed",block:!0,onClick:this.addRow.bind(this,"i2")},"\u6dfb\u52a0\u4e00\u884c"),E["default"].createElement("div",{className:b["default"].totle},E["default"].createElement("span",null,"\u5408\u8ba1"),E["default"].createElement("span",null),E["default"].createElement("span",null,y.toFixed(3)),E["default"].createElement("span",null),E["default"].createElement("span",null,g.toFixed(3)),E["default"].createElement("span",null,0!==g?(h/g).toFixed(3):0),E["default"].createElement("span",null,h.toFixed(3)),E["default"].createElement("span",null,v.toFixed(3)),E["default"].createElement("span",null)))),E["default"].createElement("div",{className:b["default"].itemBox},E["default"].createElement("span",{className:b["default"].header},"\u4ea7\u54c1\u7ed3\u7b97\u60c5\u51b5"),E["default"].createElement("div",{className:b["default"].table},E["default"].createElement("div",{className:b["default"].row},E["default"].createElement("span",null,"0"===m?1===t.roleId||2===t.roleId?"\u6536\u8d27\u65f6\u95f4":"\u53d1\u8d27\u65f6\u95f4":1===t.roleId||2===t.roleId?"\u53d1\u8d27\u65f6\u95f4":"\u6536\u8d27\u65f6\u95f4"),E["default"].createElement("span",null,"\u53d1\u8d27\u6570\u91cf"),E["default"].createElement("span",null,"\u6536\u8d27\u6570\u91cf"),E["default"].createElement("span",null,"\u6263\u6e23"),E["default"].createElement("span",null,"\u6263\u6c34"),E["default"].createElement("span",null,"\u5176\u4ed6"),E["default"].createElement("span",null,"\u7ed3\u7b97\u6570\u91cf"),E["default"].createElement("span",null,"\u6570\u91cf\u5dee\u5f02"),E["default"].createElement("span",null,"\u8fd0\u8f93\u65b9\u5f0f")),0!==d.length&&d.map(function(t,n){return E["default"].createElement("div",{className:b["default"].row,key:t.uuid},E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.deliveryTime,onChange:e.onChange.bind(e,"b",n,"deliveryTime")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.deliveryQuantity,onChange:e.onChange.bind(e,"b",n,"deliveryQuantity")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.receivingQuality,onChange:e.onChange.bind(e,"b",n,"receivingQuality")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.deductSlag,onChange:e.onChange.bind(e,"b",n,"deductSlag")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.deductWater,onChange:e.onChange.bind(e,"b",n,"deductWater")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.remark,onChange:e.onChange.bind(e,"b",n,"remark")})),E["default"].createElement("span",null,E["default"].createElement(r["default"],{precision:3,defaultValue:t.accountQuantity,onChange:e.onChange.bind(e,"b",n,"accountQuantity")})),E["default"].createElement("span",null,t.quantityDifference),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.transportMethod,onChange:e.onChange.bind(e,"b",n,"transportMethod")})),E["default"].createElement(c["default"],{className:b["default"]["delete"],type:"minus-circle",theme:"filled",onClick:e.deleteRow.bind(e,"b",n)}))}),E["default"].createElement(o["default"],{style:{marginTop:10},icon:"plus",type:"dashed",block:!0,onClick:this.addRow.bind(this,"b")},"\u6dfb\u52a0\u4e00\u884c"),0!==d.length&&d.map(function(e,t){if(isNaN(e.deliveryQuantity)||(N+=parseFloat(e.deliveryQuantity||0)),isNaN(e.receivingQuality)||(q+=parseFloat(e.receivingQuality||0)),isNaN(e.deductSlag)||(Q+=parseFloat(e.deductSlag||0)),isNaN(e.deductWater)||(C+=parseFloat(e.deductWater||0)),isNaN(e.accountQuantity)||(T+=parseFloat(e.accountQuantity||0)),isNaN(e.quantityDifference)||(k+=parseFloat(e.quantityDifference||0)),t===d.length-1)return E["default"].createElement("div",{className:b["default"].totle,key:e.uuid},E["default"].createElement("span",null,"\u5408\u8ba1"),E["default"].createElement("span",null,N.toFixed(3)),E["default"].createElement("span",null,q.toFixed(3)),E["default"].createElement("span",null,Q.toFixed(3)),E["default"].createElement("span",null,C.toFixed(3)),E["default"].createElement("span",null),E["default"].createElement("span",null,T.toFixed(3)),E["default"].createElement("span",null,k.toFixed(3)),E["default"].createElement("span",null))}))),E["default"].createElement("div",{className:b["default"].itemBox},E["default"].createElement("span",{className:b["default"].header},"\u8d28\u68c0\u8981\u6c42"),E["default"].createElement("div",{className:b["default"].table},E["default"].createElement("div",{className:b["default"].row},E["default"].createElement("span",null,"\u8d28\u68c0\u9879\u76ee"),E["default"].createElement("span",null,"0"===m?1===t.roleId||2===t.roleId?"\u5408\u540c\u6807\u51c6":"\u8d28\u68c0\u6807\u51c6":1===t.roleId||2===t.roleId?"\u8d28\u68c0\u6807\u51c6":"\u5408\u540c\u6807\u51c6"),E["default"].createElement("span",null,"\u53d1\u8d27\u54c1\u8d28"),E["default"].createElement("span",null,"\u68c0\u9a8c\u54c1\u8d28"),E["default"].createElement("span",null,"\u5b9e\u9645\u7ed3\u7b97\u54c1\u8d28"),E["default"].createElement("span",null,"\u54c1\u8d28\u8bef\u5dee"),E["default"].createElement("span",null,"\u662f\u5426\u7b26\u5408\u540c\u8981\u6c42"),E["default"].createElement("span",null,"\u5177\u4f53\u8bf4\u660e"),E["default"].createElement("span",null,"\u5907\u6ce8")),0!==p.length&&p.map(function(t,n){return E["default"].createElement("div",{className:b["default"].row,key:t.uuid},E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.qualityTestProject,onChange:e.onChange.bind(e,"q",n,"qualityTestProject")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.qualityTestStandard,onChange:e.onChange.bind(e,"q",n,"qualityTestStandard")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.deliveryQuality,onChange:e.onChange.bind(e,"q",n,"deliveryQuality")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.checkoutQuality,onChange:e.onChange.bind(e,"q",n,"checkoutQuality")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.actualAccountQuality,onChange:e.onChange.bind(e,"q",n,"actualAccountQuality")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.qualityError,onChange:e.onChange.bind(e,"q",n,"qualityError")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.isconform,onChange:e.onChange.bind(e,"q",n,"isconform")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.specificExplain,onChange:e.onChange.bind(e,"q",n,"specificExplain")})),E["default"].createElement("span",null,E["default"].createElement(s["default"],{defaultValue:t.remark,onChange:e.onChange.bind(e,"q",n,"remark")})),E["default"].createElement(c["default"],{className:b["default"]["delete"],type:"minus-circle",theme:"filled",onClick:e.deleteRow.bind(e,"q",n)}))}),E["default"].createElement(o["default"],{style:{marginTop:10},icon:"plus",type:"dashed",block:!0,onClick:this.addRow.bind(this,"q")},"\u6dfb\u52a0\u4e00\u884c"))),E["default"].createElement(o["default"],{className:b["default"].save,loading:f,type:"primary",onClick:this.saveBill.bind(this)},"\u4fdd \u5b58")),E["default"].createElement("div",{className:b["default"].bottom},E["default"].createElement(o["default"],{onClick:this.print,type:"primary",style:{backgroundColor:"#E3AE55",border:"none",marginLeft:15}},"\u6253\u5370"),E["default"].createElement(o["default"],{disabled:!0,type:"primary",style:{backgroundColor:"#E3AE55",border:"none",marginLeft:15}},"\u5408\u540c\u5df2\u786e\u8ba4"),E["default"].createElement(o["default"],{onClick:this.showModalImport,type:"primary",style:{backgroundColor:"#E3AE55",border:"none",marginLeft:15,cursor:"pointer"}},"\u6279\u91cf\u5bfc\u5165"),E["default"].createElement(o["default"],{onClick:function(){return j["default"].goBack()},type:"primary",style:{backgroundColor:"#E3AE55",border:"none",marginLeft:15}},"\u8fd4\u56de")),E["default"].createElement(i["default"],{centered:!0,title:"\u4ece\u672c\u673a\u5bfc\u5165",visible:x,onCancel:this.handleCancelImport,footer:E["default"].createElement("div",{style:{width:"100%",textAlign:"center"}},E["default"].createElement(o["default"],{style:{width:"90px"},onClick:this.handleCancelImport},"\u53d6\u6d88"))},E["default"].createElement("p",null,"\u7b2c\u4e00\u6b65\uff1a","0"===m?E["default"].createElement("a",{href:"https://obs-fe91.obs.cn-south-1.myhuaweicloud.com/a51a071675ba4a32994e2677dce7a065.xlsx",download:"\u9500\u552e\u7ed3\u7b97\u6a21\u677f.xlsx"},"\u4e0b\u8f7d\u9500\u552eExcel\u6a21\u677f"):E["default"].createElement("a",{href:"https://obs-fe91.obs.cn-south-1.myhuaweicloud.com/d2d18cb5a8ba4e51b274acb06f0da6ca.xlsx",download:"\u91c7\u8d2d\u7ed3\u7b97\u6a21\u677f.xlsx"},"\u4e0b\u8f7d\u91c7\u8d2dExcel\u6a21\u677f")),E["default"].createElement("p",{style:{marginTop:"30px"}},"\u7b2c\u4e8c\u6b65\uff1a",E["default"].createElement(I["default"],{onChange:function(t){return e.excelImport(t)},text:E["default"].createElement(o["default"],{type:"primary"},E["default"].createElement(c["default"],{type:"upload"}),"\u9009\u62e9\u6587\u4ef6")}))))}}]),t}(E.Component),p=f))||p)||p);t["default"]=C},"u/9l":function(e,t,n){e.exports={panel:"panel___3OrWC",input:"input___fqxqI"}}}]);