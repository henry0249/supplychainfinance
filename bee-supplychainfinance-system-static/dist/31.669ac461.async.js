(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{"+S7A":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("2qtc");var r=l(a("kLXV"));a("sRBo");var s=l(a("kaz8")),o=l(a("jehZ"));a("IzEo");var d=l(a("bx4M"));a("g9YV");var u=l(a("wCAj")),i=l(a("p0pE")),c=l(a("gWZ8"));a("miYZ");var f=l(a("tsqr")),p=l(a("2Taf")),m=l(a("vZ4D")),g=l(a("l4Ni")),h=l(a("ujKo")),v=l(a("MhPg"));a("Pwec");var y=l(a("CtXQ"));a("+BJd");var E,b,k=l(a("mr32")),C=n(a("q1tI")),N=l(a("sUHJ")),_=l(a("bKel")),I=a("d8uH"),w=(0,_["default"])((b=function(e){function t(e){var a;return(0,p["default"])(this,t),a=(0,g["default"])(this,(0,h["default"])(t).call(this,e)),a.handleSearch=function(e){a.getApprovalManagementList()},a.hideModal=function(){a.setState({visible:!1})},a.save=function(){var e=a.state,t=e.levels,l=e.processDesc,n=e.processType,r=e.businessMode,s={processDesc:l,processType:n,businessMode:r};s.list=t.map(function(e){return{processNodeCode:e.processNodeCode,processNodeDesc:e.processNodeDesc,roleId:e.value&&void 0!==e.value.roleId?e.value.roleId:null}}),(0,I.configureApprovalManagement)(s).then(function(e){0===e.code?(f["default"].success(e.msg),a.getApprovalManagementList(),a.setState({visible:!1})):f["default"].error(e.msg)})},a.tagDelete=function(e,t){a.onChange(e,t.levelIndex,!1)},a.deleteRow=function(e){var t=(0,c["default"])(a.state.permissions),l=(0,c["default"])(a.state.levels);l=l.slice(0,-1),t=t.map(function(t){return e===t.processNodeCode?(0,i["default"])({},t,{processNodeCode:null}):t}),a.setState({permissions:t,levels:l})},a.state={currentPage:1,pageSize:10,totalPage:0,totalRecords:0,params:{},visible:!1,modifyId:null,list:[],detail:{},permissions:[],levels:[],processDesc:"",activeCode:0,processType:"",businessMode:""},a.chineseText={0:"\u4e00",1:"\u4e8c",2:"\u4e09",3:"\u56db",4:"\u4e94"},a}return(0,v["default"])(t,e),(0,m["default"])(t,[{key:"componentDidMount",value:function(){this.getApprovalManagementList(this.id)}},{key:"getApprovalManagementList",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;(0,I.getApprovalManagementList)().then(function(t){t&&0===t.code&&e.setState({list:t.data})})}},{key:"getApprovalManagementDetail",value:function(e,t){var a=this;(0,I.getApprovalManagementDetail)({businessMode:e,processType:t}).then(function(e){0===e.code?(a.dataHandle(e.data),a.setState({visible:!0})):f["default"].error(e.msg)})}},{key:"dataHandle",value:function(e){var t=e.levels,a=e.permissions;t=t&&t.length?t.map(function(e){var t={};return void 0!==e.nodeAuditRoleId?(a=a.map(function(a,l){return e.nodeAuditRoleId===a.roleId?(t.roleId=a.roleId,t.roleName=a.roleName,t.levelIndex=l,(0,i["default"])({},a,{processNodeCode:e.processNodeCode})):a}),(0,i["default"])({},e,{value:t})):e}):[{processNodeCode:0,processNodeDesc:"\u4e00\u7ea7\u5ba1\u6279"}],this.setState({permissions:a,levels:t})}},{key:"onChange",value:function(e,t,a){var l=(0,c["default"])(this.state.permissions),n=(0,c["default"])(this.state.levels);a?(l=l.map(function(t){return t.processNodeCode===e?(0,i["default"])({},t,{processNodeCode:null}):t}),l[t]=(0,i["default"])({},l[t],{processNodeCode:e}),n[e]=(0,i["default"])({},n[e],{value:{roleId:l[t].roleId,roleName:l[t].roleName,levelIndex:t}})):(l[t]=(0,i["default"])({},l[t],{processNodeCode:null}),n[e]=(0,i["default"])({},n[e],{value:{}})),this.setState({permissions:l,levels:n})}},{key:"searchChange",value:function(e,t){var a=this.state.params;a[e]=t,this.setState({params:a})}},{key:"toHandle",value:function(e){this.getApprovalManagementDetail(e.businessMode,e.processType),this.setState({processType:e.processType,businessMode:e.businessMode,processDesc:e.processDesc})}},{key:"addRow",value:function(){var e=(0,c["default"])(this.state.levels);e.push({processNodeCode:e.length,processNodeDesc:"".concat(this.chineseText[e.length],"\u7ea7\u5ba1\u6279")}),this.setState({levels:e})}},{key:"itemClick",value:function(e){this.setState({activeCode:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,l=t.levels,n=t.permissions,i=t.processDesc,c=t.activeCode,f=[{title:"\u4e1a\u52a1\u7c7b\u578b",dataIndex:"businessModeName",key:"businessModeName",width:"25%"},{title:"\u5ba1\u6279\u540d\u79f0",dataIndex:"processDesc",key:"processDesc",width:"25%"},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"modifyTime",key:"modifyTime",width:"25%"},{title:"\u64cd\u4f5c",key:"action",render:function(t,a,l){return C["default"].createElement("div",null,C["default"].createElement("a",{onClick:function(){return e.toHandle(a)}},"\u914d\u7f6e"))},width:"25%"}];return C["default"].createElement("div",{className:N["default"].body},C["default"].createElement(d["default"],{title:"\u5ba1\u6279\u7ba1\u7406\u914d\u7f6e",bordered:!1,style:{marginBottom:24,paddingBottom:12}},C["default"].createElement(u["default"],{columns:f,dataSource:a,rowKey:function(e,t){return t},pagination:!1})),C["default"].createElement(r["default"],{title:"\u5ba1\u6279\u7ba1\u7406\u914d\u7f6e",visible:this.state.visible,onOk:this.save,onCancel:this.hideModal,centered:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",width:878,wrapClassName:N["default"].modal},C["default"].createElement("div",null,"\u5ba1\u6279\u540d\u79f0:",i),C["default"].createElement("div",{className:N["default"].panel},C["default"].createElement("div",{className:N["default"].left},l.length?l.map(function(t,a){return C["default"].createElement(M,(0,o["default"])({itemClick:e.itemClick.bind(e,t.processNodeCode),activeCode:c,tagDelete:e.tagDelete},t,{key:t.processNodeCode,isLast:0!==a&&a+1===l.length,deleteRow:e.deleteRow.bind(e),value:t.value||{}}))}):null,l.length<5?C["default"].createElement("div",{className:N["default"].add,onClick:this.addRow.bind(this)}," + \xa0\u6dfb\u52a0"):null),C["default"].createElement("div",{className:N["default"].right},C["default"].createElement("div",{className:N["default"].top},C["default"].createElement("div",{className:N["default"].label},"\u53ef\u9009\u6743\u9650\u7ec4 \u5171(",n.length||0,")\u6761:")),C["default"].createElement("div",{className:N["default"].bottom},C["default"].createElement("div",{className:N["default"].title},"\u6743\u9650\u7ec4\u540d\u79f0"),C["default"].createElement("div",{className:N["default"].checkPanel},n.length?n.map(function(t,a){return C["default"].createElement(s["default"],{className:N["default"].checkbox,checked:0===t.processNodeCode||t.processNodeCode>0,disabled:(0===t.processNodeCode||t.processNodeCode>0)&&t.processNodeCode!==c,onChange:function(t){return e.onChange(c,a,t.target.checked)}},t.roleName)}):null))))))}}]),t}(C.Component),E=b))||E;t["default"]=w;var M=function(e){var t=e.activeCode,a=e.processNodeCode,l=e.processNodeDesc,n=e.value,r=void 0===n?{}:n,s=e.tagDelete,o=e.itemClick,d=e.isLast,u=void 0===d||d,i=e.deleteRow;return C["default"].createElement("div",{onClick:function(){return o()},className:"".concat(N["default"].item," ").concat(t===a?N["default"].active:"")},C["default"].createElement("div",{className:N["default"].label},l,":"),C["default"].createElement("div",{className:N["default"].value},r.roleName?C["default"].createElement(k["default"],{closable:!0,onClose:function(){return s(a,r)}},r.roleName):null),C["default"].createElement("div",{className:N["default"]["delete"]},u?C["default"].createElement(y["default"],{onClick:function(e){e.stopPropagation(),i(a)},style:{fontSize:20},type:"delete"}):null))}},"4ob/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l={getEnterprisePermission:{api:function(){return"/supplychainfinance-user/enterprise/getEnterprisePermission"},type:"GET"},getAllRoles:{api:function(e){return"/supplychainfinance-user/enterprise/getEnterpriseRoles?pageSize=5&currentPage=".concat(e)},type:"GET"},getConfigs:{api:function(e){return"/supplychainfinance-user/user/role/info?roleId=".concat(e)},type:"GET"},saveConfigs:{api:function(){return"/supplychainfinance-user/user/role/updateEnterpriseRole"},type:"POST"},addRole:{api:function(){return"/supplychainfinance-user/user/role/createEnterpriseRole"},type:"POST"},deleteRole:{api:function(e){return"/supplychainfinance-user/user/role/deleteEnterpriseRole?roleId=".concat(e)},type:"POST"},getAllUsers:{api:function(e){return"/supplychainfinance-user/enterprise/getRoleUserList?roleId=".concat(e)},type:"GET"},saveUsers:{api:function(){return"/supplychainfinance-user/enterprise/saveRoleUserInfo"},type:"POST"},getLogs:{api:function(e){return"/supplychainfinance-user/user/permission/log?pageSize=10&currentPage=".concat(e)},type:"GET"},getApprovalManagementList:{api:function(){return"/supplychainfinance-user/enterprise/getApprovalManagementList"},type:"GET"},getApprovalManagementDetail:{api:function(e){var t=e.businessMode,a=e.processType;return"/supplychainfinance-user/enterprise/getApprovalManagementDetail?businessMode=".concat(t,"&processType=").concat(a)},type:"GET"},configureApprovalManagement:{api:function(){return"/supplychainfinance-user/enterprise/configureApprovalManagement"},type:"POST"}};t["default"]=l},"6PII":function(e,t,a){e.exports={container:"container___2weEU",header:"header___2kzTJ",col:"col___NgQqq",name:"name___4IzFA",body:"body___1KOJ1",td:"td___2Wpgr",newModal:"newModal___2SD-Q",configModal:"configModal___2CauG",userModal:"userModal___3wnI4"}},d8uH:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getEnterprisePermission=d,t.getAllRoles=u,t.getConfigs=i,t.saveConfigs=c,t.addRole=f,t.deleteRole=p,t.getAllUsers=m,t.saveUsers=g,t.getLogs=h,t.configureApprovalManagement=v,t.getApprovalManagementList=E,t.getApprovalManagementDetail=k;var n=l(a("d6i3")),r=l(a("1l/V")),s=l(a("t3Un")),o=l(a("4ob/"));function d(){return(0,s["default"])(o["default"].getEnterprisePermission.api(),{method:o["default"].getEnterprisePermission.type})}function u(e){return(0,s["default"])(o["default"].getAllRoles.api(e),{method:o["default"].getAllRoles.type})}function i(e){return(0,s["default"])(o["default"].getConfigs.api(e),{method:o["default"].getConfigs.type})}function c(e){return(0,s["default"])(o["default"].saveConfigs.api(),{method:o["default"].saveConfigs.type,body:e})}function f(e){return(0,s["default"])(o["default"].addRole.api(),{method:o["default"].addRole.type,body:e})}function p(e){return(0,s["default"])(o["default"].deleteRole.api(e),{method:o["default"].deleteRole.type})}function m(e){return(0,s["default"])(o["default"].getAllUsers.api(e),{method:o["default"].getAllUsers.type})}function g(e){return(0,s["default"])(o["default"].saveUsers.api(),{method:o["default"].saveUsers.type,body:e})}function h(e){return(0,s["default"])(o["default"].getLogs.api(e),{method:o["default"].getLogs.type})}function v(e){return y.apply(this,arguments)}function y(){return y=(0,r["default"])(n["default"].mark(function e(t){return n["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s["default"])(o["default"].configureApprovalManagement.api(t),{method:o["default"].configureApprovalManagement.type,body:t}));case 1:case"end":return e.stop()}},e)})),y.apply(this,arguments)}function E(e){return b.apply(this,arguments)}function b(){return b=(0,r["default"])(n["default"].mark(function e(t){return n["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s["default"])(o["default"].getApprovalManagementList.api(t)));case 1:case"end":return e.stop()}},e)})),b.apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return C=(0,r["default"])(n["default"].mark(function e(t){return n["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s["default"])(o["default"].getApprovalManagementDetail.api(t)));case 1:case"end":return e.stop()}},e)})),C.apply(this,arguments)}},ihw4:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("sRBo");var s=n(a("kaz8"));a("5NDa");var o=n(a("5rEg"));a("IzEo");var d=n(a("bx4M"));a("g9YV");var u=n(a("wCAj"));a("+L6B");var i=n(a("2/Rp"));a("14J3");var c=n(a("BMrR"));a("jCWc");var f=n(a("kPKH"));a("Pwec");var p=n(a("CtXQ"));a("5Dmo");n(a("3S7+"));a("/zsF");var m=n(a("PArb"));a("2qtc");var g=n(a("kLXV"));a("miYZ");var h=n(a("tsqr")),v=n(a("2Taf")),y=n(a("vZ4D")),E=n(a("l4Ni")),b=n(a("ujKo")),k=n(a("rlhR")),C=n(a("MhPg"));a("OaEy");var N=n(a("2fM7"));a("y8nQ");var _,I,w,M,S=n(a("Vl3Y")),R=(n(a("3a4m")),n(a("bKel"))),P=a("Hg0r"),U=n(a("+S7A")),A=n(a("6PII")),x=a("d8uH"),D=S["default"].Item,T=N["default"].Option,O=(_=S["default"].create(),I=(0,P.connect)(function(e){var t=e.global,a=e.loading;return{global:t,loading:a.effects}}),(0,R["default"])(w=_(w=I((M=function(e){function t(){var e,a;(0,v["default"])(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,E["default"])(this,(e=(0,b["default"])(t)).call.apply(e,[this].concat(n))),a.state={newVisible:!1,configVisible:!1,userVisible:!1,roles:[],rolesData:[],rolesPage:{currentPage:1,pageSize:5,totalPage:0,totalRecords:0},rolesModal:{},allOptions:[],options:[],selectedOptions:[],checkedValues:[],allUsers:[],users:[],selectedUsers:[],checkedUsers:[],logs:[],logsPage:{currentPage:1,pageSize:10,totalPage:0,totalRecords:0}},a.getRoles=function(e){(0,x.getAllRoles)(e).then(function(e){0===e.code?a.setState({rolesData:e.data,rolesPage:e.page}):a.setState({rolesData:[],rolesPage:{currentPage:1,pageSize:5,totalPage:0,totalRecords:0}},function(){return h["default"].error("\u83b7\u53d6\u4f01\u4e1a\u4e0b\u6240\u6709\u6743\u9650\u7ec4\u5931\u8d25\uff1a"+e.msg)})})},a.getBaseLogs=function(e){(0,x.getLogs)(e).then(function(e){0===e.code?a.setState({logs:e.data,logsPage:e.page||{currentPage:1,pageSize:10,totalPage:0,totalRecords:0}}):a.setState({logs:[],logsPage:{currentPage:1,pageSize:10,totalPage:0,totalRecords:0}},function(){return h["default"].error("\u83b7\u53d6\u64cd\u4f5c\u65e5\u5fd7\u5931\u8d25\uff1a"+e.msg)})})},a.handleAddRole=function(){var e=a.props.form.validateFields,t=(0,k["default"])(a);e(["addRoleName","permissionId"],function(e,l){e||(0,x.addRole)({roleName:l.addRoleName,permissionId:l.permissionId}).then(function(e){0===e.code?a.setState({newVisible:!1},function(){h["default"].success("\u65b0\u5efa\u6743\u9650\u7ec4\u6210\u529f"),t.getRoles(1)}):h["default"].error("\u65b0\u5efa\u6743\u9650\u7ec4\u5931\u8d25\uff1a"+e.msg)})})},a.onCurrentChange=function(e){a.getRoles(e)},a.handleConfig=function(e){(0,x.getConfigs)(e.roleId).then(function(t){0===t.code?a.setState({rolesModal:e,configVisible:!0,allOptions:t.data.allResource||[],options:t.data.allResource||[],selectedOptions:t.data.selectResource||[],checkedValues:t.data.chosenResourceIds||[]}):h["default"].error("\u83b7\u53d6\u53ef\u9009\u7b56\u7565\u5931\u8d25\uff1a"+t.msg)})},a.searchConfig=function(e){var t=a.state.allOptions,l=[];t.forEach(function(t){t.resourceName.indexOf(e)>-1&&l.push(t)}),a.setState({options:l})},a.checkboxChange=function(e,t){var l=a.state,n=l.options,r=l.selectedOptions,s=l.checkedValues;if(e){for(var o=0;o<n.length;o++)if(t===n[o].resourceId){r.push(n[o]),s.push(t);break}}else{for(var d=0;d<r.length;d++)if(t===r[d].resourceId){r.splice(d,1);break}for(var u=0;u<s.length;u++)if(t===s[u]){s.splice(u,1);break}}a.setState({selectedOptions:r,checkedValues:s})},a.saveConfig=function(){var e=a.props.form.validateFields,t=a.state,l=t.rolesModal,n=t.checkedValues,r={resourceIds:n,roleId:l.roleId},s=(0,k["default"])(a);e(["roleName"],function(e,t){e||(r["roleName"]=t.roleName,(0,x.saveConfigs)(r).then(function(e){0===e.code?a.setState({configVisible:!1,rolesModal:{},allOptions:[],options:[],selectedOptions:[],checkedValues:[]},function(){h["default"].success("\u4fdd\u5b58\u914d\u7f6e\u6210\u529f"),s.getRoles(1)}):h["default"].error("\u4fdd\u5b58\u914d\u7f6e\u5931\u8d25\uff1a"+e.msg)}))})},a.handleUser=function(e){(0,x.getAllUsers)(e.roleId).then(function(t){0===t.code?a.setState({rolesModal:e,userVisible:!0,allUsers:t.data.allUserList||[],users:t.data.allUserList||[],selectedUsers:t.data.checkUserList||[],checkedUsers:t.data.checkUserIds||[]}):h["default"].error("\u83b7\u53d6\u53ef\u9009\u7528\u6237\u5931\u8d25\uff1a"+t.msg)})},a.searchUser=function(e){var t=a.state.allUsers,l=[];t.forEach(function(t){t.userName.indexOf(e)>-1&&l.push(t)}),a.setState({users:l})},a.checkboxUsersChange=function(e,t){var l=a.state,n=l.users,r=l.selectedUsers,s=l.checkedUsers;if(e){for(var o=0;o<n.length;o++)if(t===n[o].userId){r.push(n[o]),s.push(t);break}}else{for(var d=0;d<r.length;d++)if(t===r[d].userId){r.splice(d,1);break}for(var u=0;u<s.length;u++)if(t===s[u]){s.splice(u,1);break}}a.setState({selectedUsers:r,checkedUsers:s})},a.saveUser=function(){var e=a.state,t=e.rolesModal,l=e.checkedUsers,n={checkUserIds:l,roleId:t.roleId},r=(0,k["default"])(a);(0,x.saveUsers)(n).then(function(e){0===e.code?a.setState({userVisible:!1,rolesModal:{},allUsers:[],users:[],selectedUsers:[],checkedUsers:[]},function(){h["default"].success("\u4fdd\u5b58\u7528\u6237\u6743\u9650\u6210\u529f"),r.getRoles(1)}):a.setState({userVisible:!1,rolesModal:{}},function(){return h["default"].error("\u4fdd\u5b58\u7528\u6237\u6743\u9650\u5931\u8d25\uff1a"+e.msg)})})},a.handleDeleteRole=function(e){var t=(0,k["default"])(a);g["default"].confirm({title:"\u5220\u9664\u540e\u8be5\u6743\u9650\u7ec4\u5c06\u65e0\u6cd5\u6062\u590d\uff01",content:"\u4f60\u8fd8\u8981\u7ee7\u7eed\u5417\uff1f",okText:"\u7ee7\u7eed",cancelText:"\u53d6\u6d88",onOk:function(){(0,x.deleteRole)(e.roleId).then(function(e){0===e.code?(h["default"].success("\u5220\u9664\u6743\u9650\u7ec4\u6210\u529f"),t.getRoles(1)):h["default"].error("\u5220\u9664\u6743\u9650\u7ec4\u5931\u8d25\uff1a"+e.msg)})}})},a}return(0,C["default"])(t,e),(0,y["default"])(t,[{key:"componentDidMount",value:function(){var e=this;(0,x.getEnterprisePermission)().then(function(t){0===t.code?e.setState({roles:t.data}):h["default"].error("\u83b7\u53d6\u4f01\u4e1a\u4e0b\u6240\u6709\u4f01\u4e1a\u89d2\u8272\u5931\u8d25\uff1a"+t.msg)}),this.getRoles(1)}},{key:"render",value:function(){var e=this,t=this.props.global,a=t.user,l=t.role,n=this.props.form.getFieldDecorator,h=this.state,v=h.newVisible,y=h.configVisible,E=h.userVisible,b=h.roles,k=h.rolesData,C=h.rolesPage,_=h.rolesModal,I=h.options,w=h.selectedOptions,M=h.checkedValues,R=h.users,P=h.selectedUsers,x=h.checkedUsers,O=(h.logs,h.logsPage,[{title:"\u6743\u9650\u7ec4\u540d\u79f0",dataIndex:"roleName",key:"roleName",width:"30%"},{title:"\u4f01\u4e1a\u89d2\u8272",dataIndex:"permissionName",key:"permissionName",width:"20%"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",width:"20%"},{title:"\u64cd\u4f5c",key:"action",render:function(t,a,l){return r["default"].createElement("div",null,0===a.enterpriseId?r["default"].createElement("span",{style:{color:"rgba(0,0,0,0.25)",cursor:"not-allowed"}},"\u914d\u7f6e"):r["default"].createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:e.handleConfig.bind(e,a)},"\u914d\u7f6e"),r["default"].createElement(m["default"],{type:"vertical"}),r["default"].createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:e.handleUser.bind(e,a)},"\u7528\u6237\u7ba1\u7406"),r["default"].createElement(m["default"],{type:"vertical"}),0===a.enterpriseId?r["default"].createElement("span",{style:{color:"rgba(0,0,0,0.25)",cursor:"not-allowed"}},"\u5220\u9664"):r["default"].createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:e.handleDeleteRole.bind(e,a)},"\u5220\u9664"))},width:"30%"}]);return r["default"].createElement("div",{className:A["default"].container},r["default"].createElement("div",{className:A["default"].header},r["default"].createElement(c["default"],null,r["default"].createElement(f["default"],{className:A["default"].col},r["default"].createElement(p["default"],{style:{fontSize:28},type:"home",theme:"twoTone"}),r["default"].createElement("span",{className:A["default"].name},a.companyName||"\u672a\u77e5")))),r["default"].createElement("div",{className:A["default"].body},r["default"].createElement(c["default"],null,r["default"].createElement(d["default"],{title:"\u6743\u9650\u7ec4",bordered:!1,style:{marginBottom:16}},r["default"].createElement(c["default"],{type:"flex",justify:"end",style:{marginBottom:16}},r["default"].createElement(i["default"],{onClick:function(){return e.setState({newVisible:!0})},type:"primary",icon:"plus"},"\u65b0\u5efa\u6743\u9650\u7ec4")),r["default"].createElement(c["default"],null,r["default"].createElement(u["default"],{rowKey:"roleId",dataSource:k,columns:O,pagination:{size:"small",current:C.currentPage,pageSize:C.pageSize,total:C.totalRecords,onChange:this.onCurrentChange.bind(this),showTotal:function(e,t){return"\u5171 ".concat(C.totalRecords," \u6761\u8bb0\u5f55 \u7b2c ").concat(C.currentPage," / ").concat(C.totalPage," \u9875")}}})))),15===l.roleId&&r["default"].createElement(c["default"],null,r["default"].createElement(U["default"],null))),r["default"].createElement(g["default"],{centered:!0,wrapClassName:A["default"].newModal,title:"\u65b0\u5efa\u6743\u9650\u7ec4",visible:v,onOk:this.handleAddRole,onCancel:function(){return e.setState({newVisible:!1})}},r["default"].createElement(S["default"],{layout:"inline"},r["default"].createElement(D,{label:"\u6743\u9650\u7ec4\u540d\u79f0",style:{marginBottom:16}},n("addRoleName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6743\u9650\u7ec4\u540d\u79f0"}]})(r["default"].createElement(o["default"],{allowClear:!1,style:{width:320},placeholder:"\u8bf7\u8f93\u5165"}))),r["default"].createElement(D,{label:"\u6240\u5c5e\u4f01\u4e1a\u89d2\u8272"},n("permissionId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6240\u5c5e\u4f01\u4e1a\u89d2\u8272"}]})(r["default"].createElement(N["default"],{allowClear:!1,style:{width:320},placeholder:"\u8bf7\u9009\u62e9"},b.length&&0!==b.length&&b.map(function(e){return r["default"].createElement(T,{value:e.permissionId,key:e.permissionId},e.permissionName)})))))),y&&r["default"].createElement(g["default"],{centered:!0,title:"\u6743\u9650\u7ec4\u914d\u7f6e",visible:y,wrapClassName:A["default"].configModal,width:900,onOk:this.saveConfig,onCancel:function(){return e.setState({configVisible:!1})}},r["default"].createElement(S["default"],{layout:"inline",hideRequiredMark:!0},r["default"].createElement(c["default"],{gutter:24,style:{marginBottom:24}},r["default"].createElement(f["default"],{span:12},r["default"].createElement(D,{label:"\u6743\u9650\u7ec4\u540d\u79f0"},n("roleName",{initialValue:_.roleName||null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6743\u9650\u7ec4\u540d\u79f0"}]})(r["default"].createElement(o["default"],{allowClear:!1,style:{width:280},placeholder:"\u8bf7\u8f93\u5165"})))),r["default"].createElement(f["default"],{span:12},r["default"].createElement(D,{label:"\u6240\u5c5e\u4f01\u4e1a\u89d2\u8272"},_.permissionName))),r["default"].createElement(c["default"],{gutter:24,style:{marginBottom:16}},r["default"].createElement(f["default"],{span:12},r["default"].createElement(D,{label:"\u53ef\u9009\u7b56\u7565"},r["default"].createElement(o["default"].Search,{allowClear:!1,style:{width:223},placeholder:"\u8bf7\u8f93\u5165\u7b56\u7565\u540d\u79f0",onSearch:function(t){return e.searchConfig(t)}})))),r["default"].createElement(c["default"],{gutter:24},r["default"].createElement(f["default"],{span:12},r["default"].createElement(d["default"],{title:r["default"].createElement(c["default"],{style:{padding:"0 8px 0 24px",fontSize:14}},r["default"].createElement(f["default"],{span:12},"\u6a21\u5757"),r["default"].createElement(f["default"],{span:12},"\u6743\u9650"))},I.map(function(t){return r["default"].createElement(s["default"],{onChange:function(a){return e.checkboxChange(a.target.checked,t.resourceId)},checked:M.includes(t.resourceId),key:t.resourceId},r["default"].createElement(c["default"],null,r["default"].createElement(f["default"],{span:12},t.parentName),r["default"].createElement(f["default"],{span:12},t.resourceName)))}))),r["default"].createElement(f["default"],{span:12},r["default"].createElement(d["default"],{title:r["default"].createElement(c["default"],{style:{fontSize:14}},r["default"].createElement(f["default"],{span:10},"\u6a21\u5757"),r["default"].createElement(f["default"],{span:10},"\u6743\u9650"),r["default"].createElement(f["default"],{span:4},"\u64cd\u4f5c"))},w.map(function(t){return r["default"].createElement(c["default"],{style:{marginBottom:12},key:t.resourceId},r["default"].createElement(f["default"],{span:10},t.parentName),r["default"].createElement(f["default"],{span:10},t.resourceName),r["default"].createElement(f["default"],{span:4},r["default"].createElement(p["default"],{onClick:e.checkboxChange.bind(e,!1,t.resourceId),type:"close",style:{fontSize:14,cursor:"pointer"}})))})))))),r["default"].createElement(g["default"],{centered:!0,title:"\u7528\u6237\u7ba1\u7406",visible:E,wrapClassName:A["default"].userModal,width:900,onOk:this.saveUser,onCancel:function(){return e.setState({userVisible:!1})}},r["default"].createElement(S["default"],{layout:"inline",hideRequiredMark:!0},r["default"].createElement(c["default"],{gutter:24,style:{marginBottom:24}},r["default"].createElement(f["default"],{span:12},r["default"].createElement(D,{label:"\u6743\u9650\u7ec4\u540d\u79f0"},_.roleName)),r["default"].createElement(f["default"],{span:12},r["default"].createElement(D,{label:"\u6240\u5c5e\u4f01\u4e1a\u89d2\u8272"},_.permissionName))),r["default"].createElement(c["default"],{gutter:24,style:{marginBottom:16}},r["default"].createElement(f["default"],{span:12},r["default"].createElement(D,{label:"\u53ef\u9009\u7528\u6237"},r["default"].createElement(o["default"].Search,{allowClear:!1,style:{width:223},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u79f0",onSearch:function(t){return e.searchUser(t)}})))),r["default"].createElement(c["default"],{gutter:24},r["default"].createElement(f["default"],{span:12},r["default"].createElement(d["default"],{title:r["default"].createElement(c["default"],{style:{padding:"0 8px 0 24px",fontSize:14}},r["default"].createElement(f["default"],{span:24},"\u7528\u6237\u540d\u79f0"))},R.map(function(t){return r["default"].createElement(s["default"],{onChange:function(a){return e.checkboxUsersChange(a.target.checked,t.userId)},checked:x.includes(t.userId),key:t.userId},r["default"].createElement(c["default"],null,r["default"].createElement(f["default"],{span:24},t.userName)))}))),r["default"].createElement(f["default"],{span:12},r["default"].createElement(d["default"],{title:r["default"].createElement(c["default"],{style:{fontSize:14}},r["default"].createElement(f["default"],{span:20},"\u7528\u6237\u540d\u79f0"),r["default"].createElement(f["default"],{span:4},"\u64cd\u4f5c"))},P.map(function(t){return r["default"].createElement(c["default"],{style:{marginBottom:12},key:t.userId},r["default"].createElement(f["default"],{span:20},t.userName),r["default"].createElement(f["default"],{span:4},r["default"].createElement(p["default"],{onClick:e.checkboxUsersChange.bind(e,!1,t.userId),type:"close",style:{fontSize:14,cursor:"pointer"}})))})))))))}}]),t}(r.Component),w=M))||w)||w)||w);t["default"]=O},sUHJ:function(e,t,a){e.exports={body:"body___1bSNB",top:"top___2L4ci",btnBox:"btnBox___1Pdt-",modal:"modal___2fn41",panel:"panel___2p-lF",left:"left___12SOJ",item:"item___2_0yK",label:"label___15VgI",value:"value___1ZOyo",delete:"delete___2g9bh",active:"active___3TZlh",add:"add___37z2n",right:"right___2hJx0",bottom:"bottom___1_RZv",title:"title___1hUsZ",checkPanel:"checkPanel___15oTP"}}}]);